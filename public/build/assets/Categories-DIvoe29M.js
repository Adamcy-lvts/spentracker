import{d as P,t as me,c as G,a as B,o as u,w as l,r as W,b as E,u as e,m as ne,e as fe,f as J,g as s,n as Q,h as S,i as R,j as g,k as ve,l as o,p as i,q as v,F as $,s as F,v as D,x as Z,y as ee}from"./app-TcpvoCD_.js";import{T as j,_ as _e,t as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-Yd64K2jE.js";import{_ as te,a as se,b as ae,c as le}from"./CardTitle.vue_vue_type_script_setup_true_lang-CSj2PTGp.js";import{P as ue,c as ge,a as oe,_ as b}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B9g9mraS.js";import{_ as x,a as U,b as w}from"./InputError.vue_vue_type_script_setup_true_lang-C8aVpXRq.js";import{c as be,u as ye}from"./VisuallyHidden-kxbBqqs9.js";import{u as Ce,V as xe}from"./VisuallyHiddenInput-BTwi9lKC.js";import{u as he,a as ce,r as ke}from"./useForwardExpose-s-B-unrm.js";import{_ as O,a as I,b as L,c as M,d as K,e as H}from"./DialogTitle.vue_vue_type_script_setup_true_lang-zX7AiJNF.js";import{P as we,T as de}from"./trash-2-BX80Cx6v.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const[Ve,$e]=be("SwitchRoot");var Be=P({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(h,{emit:C}){const c=h,y=C,{disabled:f}=me(c),p=he(c,"modelValue",y,{defaultValue:c.defaultValue,passive:c.modelValue===void 0});function _(){f.value||(p.value=!p.value)}const{forwardRef:r,currentElement:d}=ce(),q=Ce(d),T=G(()=>c.id&&d.value?document.querySelector(`[for="${c.id}"]`)?.innerText:void 0);return $e({modelValue:p,toggleCheck:_,disabled:f}),(n,z)=>(u(),B(e(ue),ne(n.$attrs,{id:n.id,ref:e(r),role:"switch",type:n.as==="button"?"button":void 0,value:n.value,"aria-label":n.$attrs["aria-label"]||T.value,"aria-checked":e(p),"aria-required":n.required,"data-state":e(p)?"checked":"unchecked","data-disabled":e(f)?"":void 0,"as-child":n.asChild,as:n.as,disabled:e(f),onClick:_,onKeydown:fe(J(_,["prevent"]),["enter"])}),{default:l(()=>[W(n.$slots,"default",{modelValue:e(p)}),e(q)&&n.name?(u(),B(e(xe),{key:0,type:"checkbox",name:n.name,disabled:e(f),required:n.required,value:n.value,checked:!!e(p)},null,8,["name","disabled","required","value","checked"])):E("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),qe=Be,Se=P({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(h){const C=Ve();return ce(),(c,y)=>(u(),B(e(ue),{"data-state":e(C).modelValue?.value?"checked":"unchecked","data-disabled":e(C).disabled.value?"":void 0,"as-child":c.asChild,as:c.as},{default:l(()=>[W(c.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Fe=Se;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=ge("PenIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),re=P({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(h,{emit:C}){const c=h,y=C,f=ke(c,"class"),p=ye(f,y);return(_,r)=>(u(),B(e(qe),ne({"data-slot":"switch"},e(p),{class:e(oe)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",c.class)}),{default:l(()=>[s(e(Fe),{"data-slot":"switch-thumb",class:Q(e(oe)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:l(()=>[W(_.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),De={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Ue={class:"flex items-center justify-between"},Ee={key:0,class:"text-center py-8 text-muted-foreground"},Pe={key:1,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Te={class:"flex items-center justify-between mb-2"},ze={class:"flex items-center gap-2"},Ae={class:"font-semibold"},Ne={class:"flex items-center gap-1"},Re={key:0,class:"text-sm text-muted-foreground mb-2"},je={class:"text-xs text-muted-foreground"},Oe={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Ie={class:"flex items-center justify-between mb-2"},Le={class:"flex items-center gap-2"},Me={class:"font-semibold"},Ke={class:"flex items-center gap-1"},He={key:0,class:"text-sm text-muted-foreground mb-2"},Ge={class:"text-xs text-muted-foreground"},Je={class:"space-y-2"},Qe={class:"space-y-2"},We={class:"flex items-center gap-2"},Xe={class:"grid grid-cols-5 gap-1"},Ye=["onClick"],Ze={class:"space-y-2"},et={class:"flex items-center space-x-2"},tt={class:"space-y-2"},st={class:"space-y-2"},at={class:"flex items-center gap-2"},lt={class:"grid grid-cols-5 gap-1"},ot=["onClick"],dt={class:"space-y-2"},it={class:"flex items-center space-x-2"},yt=P({__name:"Categories",props:{categories:{}},setup(h){const C=h,c=[{title:"Categories",href:"/categories"}],y=S(!1),f=S(!1),p=S(!1),_=S(null),r=R({name:"",icon:"",color:"#3B82F6",description:"",is_active:!0}),d=R({name:"",icon:"",color:"#3B82F6",description:"",is_active:!0}),q=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6B7280"],T=()=>{r.reset(),y.value=!0},n=m=>{_.value=m,d.name=m.name,d.icon=m.icon||"",d.color=m.color,d.description=m.description||"",d.is_active=m.is_active,f.value=!0},z=m=>{_.value=m,p.value=!0},X=()=>{r.post(route("categories.store"),{onSuccess:()=>{y.value=!1,k.success("Category created successfully!")},onError:()=>{k.error("Failed to create category. Please check your inputs.")}})},Y=()=>{d.put(route("categories.update",_.value.id),{onSuccess:()=>{f.value=!1,k.success("Category updated successfully!")},onError:()=>{k.error("Failed to update category. Please check your inputs.")}})},pe=()=>{R({}).delete(route("categories.destroy",_.value.id),{onSuccess:()=>{p.value=!1,k.success("Category deleted successfully!")},onError:()=>{k.error("Failed to delete category.")}})},A=G(()=>C.categories.filter(m=>m.is_active)),N=G(()=>C.categories.filter(m=>!m.is_active));return(m,t)=>(u(),g($,null,[s(e(ve),{title:"Categories"}),s(_e,{breadcrumbs:c},{default:l(()=>[o("div",De,[o("div",Ue,[t[15]||(t[15]=o("h1",{class:"text-2xl font-bold"},"Categories",-1)),s(e(b),{onClick:T},{default:l(()=>[s(e(we),{class:"w-4 h-4 mr-2"}),t[14]||(t[14]=i(" Add Category ",-1))]),_:1,__:[14]})]),s(e(te),null,{default:l(()=>[s(e(se),null,{default:l(()=>[s(e(ae),{class:"flex items-center gap-2"},{default:l(()=>[s(e(j),{class:"w-5 h-5"}),i(" Active Categories ("+v(A.value.length)+") ",1)]),_:1})]),_:1}),s(e(le),null,{default:l(()=>[A.value.length===0?(u(),g("div",Ee,[s(e(j),{class:"mx-auto h-12 w-12 mb-2 opacity-50"}),t[16]||(t[16]=o("p",null,"No active categories",-1)),t[17]||(t[17]=o("p",{class:"text-sm"},"Create your first category to organize expenses",-1))])):(u(),g("div",Pe,[(u(!0),g($,null,F(A.value,a=>(u(),g("div",{key:a.id,class:"border rounded-lg p-4 hover:shadow-md transition-shadow"},[o("div",Te,[o("div",ze,[o("div",{class:"w-4 h-4 rounded-full",style:D({backgroundColor:a.color})},null,4),o("h3",Ae,v(a.name),1)]),o("div",Ne,[s(e(b),{variant:"ghost",size:"sm",onClick:V=>n(a)},{default:l(()=>[s(e(ie),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),s(e(b),{variant:"ghost",size:"sm",onClick:V=>z(a),class:"text-destructive hover:text-destructive"},{default:l(()=>[s(e(de),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]),a.description?(u(),g("p",Re,v(a.description),1)):E("",!0),o("div",je,v(a.expenses_count)+" expense"+v(a.expenses_count===1?"":"s"),1)]))),128))]))]),_:1})]),_:1}),N.value.length>0?(u(),B(e(te),{key:0},{default:l(()=>[s(e(se),null,{default:l(()=>[s(e(ae),{class:"flex items-center gap-2"},{default:l(()=>[s(e(j),{class:"w-5 h-5 opacity-50"}),i(" Inactive Categories ("+v(N.value.length)+") ",1)]),_:1})]),_:1}),s(e(le),null,{default:l(()=>[o("div",Oe,[(u(!0),g($,null,F(N.value,a=>(u(),g("div",{key:a.id,class:"border rounded-lg p-4 opacity-60"},[o("div",Ie,[o("div",Le,[o("div",{class:"w-4 h-4 rounded-full",style:D({backgroundColor:a.color})},null,4),o("h3",Me,v(a.name),1)]),o("div",Ke,[s(e(b),{variant:"ghost",size:"sm",onClick:V=>n(a)},{default:l(()=>[s(e(ie),{class:"w-4 h-4"})]),_:2},1032,["onClick"]),s(e(b),{variant:"ghost",size:"sm",onClick:V=>z(a),class:"text-destructive hover:text-destructive"},{default:l(()=>[s(e(de),{class:"w-4 h-4"})]),_:2},1032,["onClick"])])]),a.description?(u(),g("p",He,v(a.description),1)):E("",!0),o("div",Ge,v(a.expenses_count)+" expense"+v(a.expenses_count===1?"":"s"),1)]))),128))])]),_:1})]),_:1})):E("",!0)]),s(e(O),{open:y.value,"onUpdate:open":t[5]||(t[5]=a=>y.value=a)},{default:l(()=>[s(e(I),{class:"sm:max-w-md"},{default:l(()=>[s(e(L),null,{default:l(()=>[s(e(M),null,{default:l(()=>t[18]||(t[18]=[i("Add New Category",-1)])),_:1,__:[18]}),s(e(K),null,{default:l(()=>t[19]||(t[19]=[i(" Create a new category to organize your expenses. ",-1)])),_:1,__:[19]})]),_:1}),o("form",{onSubmit:J(X,["prevent"]),class:"space-y-4"},[o("div",Je,[s(e(x),{for:"add-name"},{default:l(()=>t[20]||(t[20]=[i("Name",-1)])),_:1,__:[20]}),s(e(U),{id:"add-name",modelValue:e(r).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(r).name=a),placeholder:"e.g., Food & Dining",required:""},null,8,["modelValue"]),s(w,{message:e(r).errors.name},null,8,["message"])]),o("div",Qe,[s(e(x),{for:"add-color"},{default:l(()=>t[21]||(t[21]=[i("Color",-1)])),_:1,__:[21]}),o("div",We,[s(e(U),{id:"add-color",modelValue:e(r).color,"onUpdate:modelValue":t[1]||(t[1]=a=>e(r).color=a),type:"color",class:"w-16 h-10"},null,8,["modelValue"]),o("div",Xe,[(u(),g($,null,F(q,a=>o("button",{key:a,type:"button",class:Q(["w-6 h-6 rounded border-2 hover:scale-110 transition-transform",e(r).color===a?"border-gray-400":"border-gray-200"]),style:D({backgroundColor:a}),onClick:V=>e(r).color=a},null,14,Ye)),64))])]),s(w,{message:e(r).errors.color},null,8,["message"])]),o("div",Ze,[s(e(x),{for:"add-description"},{default:l(()=>t[22]||(t[22]=[i("Description (optional)",-1)])),_:1,__:[22]}),Z(o("textarea",{id:"add-description","onUpdate:modelValue":t[2]||(t[2]=a=>e(r).description=a),placeholder:"Brief description of this category...",rows:"2",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[ee,e(r).description]]),s(w,{message:e(r).errors.description},null,8,["message"])]),o("div",et,[s(e(re),{modelValue:e(r).is_active,"onUpdate:modelValue":t[3]||(t[3]=a=>e(r).is_active=a),id:"add-active"},null,8,["modelValue"]),s(e(x),{for:"add-active"},{default:l(()=>t[23]||(t[23]=[i("Active",-1)])),_:1,__:[23]})])],32),s(e(H),null,{default:l(()=>[s(e(b),{variant:"outline",onClick:t[4]||(t[4]=a=>y.value=!1)},{default:l(()=>t[24]||(t[24]=[i("Cancel",-1)])),_:1,__:[24]}),s(e(b),{onClick:X,disabled:e(r).processing},{default:l(()=>[i(v(e(r).processing?"Creating...":"Create Category"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(O),{open:f.value,"onUpdate:open":t[11]||(t[11]=a=>f.value=a)},{default:l(()=>[s(e(I),{class:"sm:max-w-md"},{default:l(()=>[s(e(L),null,{default:l(()=>[s(e(M),null,{default:l(()=>t[25]||(t[25]=[i("Edit Category",-1)])),_:1,__:[25]}),s(e(K),null,{default:l(()=>t[26]||(t[26]=[i(" Update category details. ",-1)])),_:1,__:[26]})]),_:1}),o("form",{onSubmit:J(Y,["prevent"]),class:"space-y-4"},[o("div",tt,[s(e(x),{for:"edit-name"},{default:l(()=>t[27]||(t[27]=[i("Name",-1)])),_:1,__:[27]}),s(e(U),{id:"edit-name",modelValue:e(d).name,"onUpdate:modelValue":t[6]||(t[6]=a=>e(d).name=a),required:""},null,8,["modelValue"]),s(w,{message:e(d).errors.name},null,8,["message"])]),o("div",st,[s(e(x),{for:"edit-color"},{default:l(()=>t[28]||(t[28]=[i("Color",-1)])),_:1,__:[28]}),o("div",at,[s(e(U),{id:"edit-color",modelValue:e(d).color,"onUpdate:modelValue":t[7]||(t[7]=a=>e(d).color=a),type:"color",class:"w-16 h-10"},null,8,["modelValue"]),o("div",lt,[(u(),g($,null,F(q,a=>o("button",{key:a,type:"button",class:Q(["w-6 h-6 rounded border-2 hover:scale-110 transition-transform",e(d).color===a?"border-gray-400":"border-gray-200"]),style:D({backgroundColor:a}),onClick:V=>e(d).color=a},null,14,ot)),64))])]),s(w,{message:e(d).errors.color},null,8,["message"])]),o("div",dt,[s(e(x),{for:"edit-description"},{default:l(()=>t[29]||(t[29]=[i("Description (optional)",-1)])),_:1,__:[29]}),Z(o("textarea",{id:"edit-description","onUpdate:modelValue":t[8]||(t[8]=a=>e(d).description=a),rows:"2",class:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},null,512),[[ee,e(d).description]]),s(w,{message:e(d).errors.description},null,8,["message"])]),o("div",it,[s(e(re),{modelValue:e(d).is_active,"onUpdate:modelValue":t[9]||(t[9]=a=>e(d).is_active=a),id:"edit-active"},null,8,["modelValue"]),s(e(x),{for:"edit-active"},{default:l(()=>t[30]||(t[30]=[i("Active",-1)])),_:1,__:[30]})])],32),s(e(H),null,{default:l(()=>[s(e(b),{variant:"outline",onClick:t[10]||(t[10]=a=>f.value=!1)},{default:l(()=>t[31]||(t[31]=[i("Cancel",-1)])),_:1,__:[31]}),s(e(b),{onClick:Y,disabled:e(d).processing},{default:l(()=>[i(v(e(d).processing?"Updating...":"Update Category"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),s(e(O),{open:p.value,"onUpdate:open":t[13]||(t[13]=a=>p.value=a)},{default:l(()=>[s(e(I),{class:"sm:max-w-md"},{default:l(()=>[s(e(L),null,{default:l(()=>[s(e(M),null,{default:l(()=>t[32]||(t[32]=[i("Delete Category",-1)])),_:1,__:[32]}),s(e(K),null,{default:l(()=>[i(' Are you sure you want to delete "'+v(_.value?.name)+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),s(e(H),null,{default:l(()=>[s(e(b),{variant:"outline",onClick:t[12]||(t[12]=a=>p.value=!1)},{default:l(()=>t[33]||(t[33]=[i("Cancel",-1)])),_:1,__:[33]}),s(e(b),{variant:"destructive",onClick:pe},{default:l(()=>t[34]||(t[34]=[i(" Delete Category ",-1)])),_:1,__:[34]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{yt as default};
