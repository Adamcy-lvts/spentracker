import{r as k,a as h,d as ne,i as re,b as c,o as u,h as s,u as e,j as ae,w as o,f as n,k as a,t as p,F as V,l as S,e as w,m as $,p as O}from"./app-C49Iw_Sg.js";import{P as de,W as L,_ as P,a as q,b as R,c as B,d as E,e as z,f as W,g as G,h as Q,i as Y,j as H,k as ie,t as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-zdg8ISK4.js";import{_ as D,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-CRH5Dj0n.js";import{_ as M,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-DDWXmc55.js";import{c as ue,_ as x,L as K}from"./index-BkiaIL2O.js";import{_ as m,a as _}from"./Label.vue_vue_type_script_setup_true_lang-MMmVKI1a.js";import{_ as X}from"./Checkbox.vue_vue_type_script_setup_true_lang-nX8JoX-u.js";import{_ as me}from"./MonthNavigator.vue_vue_type_script_setup_true_lang-DfR-7Y54.js";import{T as ce}from"./trending-up-BbFFLOdC.js";import{R as fe}from"./repeat-nXEj1wt7.js";import{T as pe}from"./trash-2-W93Vo6a9.js";import"./check-BENKUzaa.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B6lcd1oD.js";import"./PwaInstallPrompt-D7uajZai.js";import"./VisuallyHiddenInput-CvCnwNM3.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ue("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function ge(){const g=k(!1),v=k(new Date().toISOString().slice(0,7)),y=d=>{v.value=d;const[f,b]=d.split("-");h.get(route("income.index"),{year:f,month:b},{preserveState:!0})};return{isLoading:g,selectedMonth:v,setMonth:y,previousMonth:()=>{const d=new Date(v.value+"-01");d.setMonth(d.getMonth()-1),y(d.toISOString().slice(0,7))},nextMonth:()=>{const d=new Date(v.value+"-01");d.setMonth(d.getMonth()+1),y(d.toISOString().slice(0,7))},addIncome:d=>{g.value=!0,h.post(route("income.store"),d,{onFinish:()=>g.value=!1})},updateIncome:(d,f)=>{g.value=!0,h.put(route("income.update",d),f,{onFinish:()=>g.value=!1})},deleteIncome:d=>{confirm("Are you sure you want to delete this income?")&&h.delete(route("income.destroy",d))}}}const ye={class:"flex flex-1 flex-col gap-6 p-4 md:p-6 overflow-x-hidden animate-in fade-in duration-500"},xe={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},ve={class:"flex items-center gap-3"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},we={class:"text-2xl font-bold"},ke={class:"text-xs text-muted-foreground mt-1 text-balance"},he={class:"text-2xl font-bold"},Ve={key:0,class:"flex flex-col items-center justify-center py-12 text-muted-foreground"},Ie={class:"h-16 w-16 rounded-full bg-muted/50 flex items-center justify-center mb-4"},Se={key:1,class:"overflow-x-auto"},$e={class:"w-full text-sm"},De={class:"divide-y divide-border/50"},Ue={class:"py-4 pl-2"},Me={class:"flex items-center gap-2"},Ce={key:0,class:"h-2 w-2 rounded-full bg-emerald-500",title:"Recurring"},Fe={class:"font-medium"},Ne={class:"py-4 text-muted-foreground"},Te={class:"py-4 text-muted-foreground truncate max-w-[200px]"},je={class:"py-4 text-right font-bold"},Ae={class:"py-4 text-right pr-2"},Oe={class:"flex items-center justify-end gap-2"},Le={class:"space-y-2"},Pe={class:"grid grid-cols-2 gap-4"},qe={class:"space-y-2"},Re={class:"space-y-2"},Be={class:"space-y-2"},Ee={class:"flex flex-col gap-4 pt-2"},ze={class:"flex items-center space-x-2"},We={key:0,class:"space-y-2 animate-in slide-in-from-top-2 duration-200"},Ge={class:"space-y-2"},Qe={class:"grid grid-cols-2 gap-4"},Ye={class:"space-y-2"},He={class:"space-y-2"},Je={class:"space-y-2"},Ke={class:"flex flex-col gap-4 pt-2"},Xe={class:"flex items-center space-x-2"},Ze={key:0,class:"space-y-2 animate-in slide-in-from-top-2 duration-200"},_t=ne({__name:"Index",props:{incomes:{},totalIncome:{},sources:{},selectedMonth:{},categories:{}},setup(g){const v=g,{selectedMonth:y,previousMonth:F,nextMonth:N,deleteIncome:T}=ge();y.value=v.selectedMonth;const j=[{title:"Income",href:"/income"}],I=i=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(i),d=k(!1),f=k(!1),b=k(null),r=re({source:"",amount:"",date:new Date().toISOString().split("T")[0],description:"",category_id:null,is_recurring:!1,recurrence_type:null}),Z=()=>{r.reset(),r.clearErrors(),r.date=new Date().toISOString().split("T")[0],d.value=!0},ee=i=>{b.value=i,r.source=i.source,r.amount=i.amount.toString(),r.date=i.date,r.description=i.description||"",r.category_id=i.category_id,r.is_recurring=i.is_recurring,r.recurrence_type=i.recurrence_type,f.value=!0},te=()=>{r.post(route("income.store"),{onSuccess:()=>{d.value=!1,J.success("Income added successfully"),r.reset()}})},se=()=>{b.value&&r.put(route("income.update",b.value.id),{onSuccess:()=>{f.value=!1,J.success("Income updated successfully"),b.value=null}})},oe=i=>{T(i)},A=[{label:"Weekly",value:"weekly"},{label:"Bi-Weekly",value:"biweekly"},{label:"Monthly",value:"monthly"},{label:"Quarterly",value:"quarterly"},{label:"Yearly",value:"yearly"}];return(i,t)=>(u(),c(V,null,[s(e(ae),{title:"Income"}),s(ie,{breadcrumbs:j},{default:o(()=>[n("div",ye,[n("div",xe,[t[17]||(t[17]=n("div",{class:"flex flex-col gap-1"},[n("h1",{class:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent"}," Income Tracking "),n("p",{class:"text-sm text-muted-foreground text-balance"},"Manage your earnings and recurring income sources.")],-1)),n("div",ve,[s(me,{"selected-month":e(y),onPrevious:e(F),onNext:e(N)},null,8,["selected-month","onPrevious","onNext"]),s(e(x),{onClick:Z,class:"bg-primary hover:bg-primary/90"},{default:o(()=>[s(e(de),{class:"w-4 h-4 mr-2"}),t[16]||(t[16]=a(" Add Income ",-1))]),_:1,__:[16]})])]),n("div",be,[s(e(D),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm"},{default:o(()=>[s(e(M),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[s(e(C),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>t[18]||(t[18]=[a("Total Income",-1)])),_:1,__:[18]}),s(e(L),{class:"h-4 w-4 text-emerald-500"})]),_:1}),s(e(U),null,{default:o(()=>[n("div",we,p(I(i.totalIncome)),1),n("p",ke,"For "+p(new Date(e(y)).toLocaleDateString("default",{month:"long",year:"numeric"})),1)]),_:1})]),_:1}),s(e(D),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm"},{default:o(()=>[s(e(M),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[s(e(C),{class:"text-sm font-medium text-muted-foreground"},{default:o(()=>t[19]||(t[19]=[a("Transactions",-1)])),_:1,__:[19]}),s(e(ce),{class:"h-4 w-4 text-blue-500"})]),_:1}),s(e(U),null,{default:o(()=>[n("div",he,p(i.incomes.length),1),t[20]||(t[20]=n("p",{class:"text-xs text-muted-foreground mt-1"},"Income entries this month",-1))]),_:1,__:[20]})]),_:1})]),s(e(D),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm"},{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(C),{class:"text-lg font-semibold"},{default:o(()=>t[21]||(t[21]=[a("Incomes",-1)])),_:1,__:[21]})]),_:1}),s(e(U),null,{default:o(()=>[i.incomes.length===0?(u(),c("div",Ve,[n("div",Ie,[s(e(L),{class:"h-8 w-8 opacity-50"})]),t[22]||(t[22]=n("p",{class:"font-medium"},"No income entries found",-1)),t[23]||(t[23]=n("p",{class:"text-sm mt-1"},"Add your first income for this month!",-1))])):(u(),c("div",Se,[n("table",$e,[t[24]||(t[24]=n("thead",null,[n("tr",{class:"text-left border-b border-border/50"},[n("th",{class:"pb-3 font-medium text-muted-foreground pl-2"},"Source"),n("th",{class:"pb-3 font-medium text-muted-foreground"},"Date"),n("th",{class:"pb-3 font-medium text-muted-foreground"},"Description"),n("th",{class:"pb-3 font-medium text-muted-foreground text-right"},"Amount"),n("th",{class:"pb-3 font-medium text-muted-foreground text-right pr-2"},"Actions")])],-1)),n("tbody",De,[(u(!0),c(V,null,S(i.incomes,l=>(u(),c("tr",{key:l.id,class:"group hover:bg-muted/50 transition-colors"},[n("td",Ue,[n("div",Me,[l.is_recurring?(u(),c("div",Ce)):w("",!0),n("span",Fe,p(l.source),1),l.is_recurring?(u(),$(e(fe),{key:1,class:"h-3 w-3 text-muted-foreground"})):w("",!0)])]),n("td",Ne,p(new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),1),n("td",Te,p(l.description||"-"),1),n("td",je,p(I(l.amount)),1),n("td",Ae,[n("div",Oe,[s(e(x),{variant:"ghost",size:"icon",onClick:le=>ee(l),class:"h-8 w-8 hover:text-primary"},{default:o(()=>[s(e(_e),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),s(e(x),{variant:"ghost",size:"icon",onClick:le=>oe(l.id),class:"h-8 w-8 hover:text-red-500 font-bold"},{default:o(()=>[s(e(pe),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]))),128))])])]))]),_:1})]),_:1})]),s(e(P),{open:d.value,"onUpdate:open":t[7]||(t[7]=l=>d.value=l)},{default:o(()=>[s(e(q),{class:"sm:max-w-[450px]"},{default:o(()=>[s(e(R),null,{default:o(()=>[s(e(B),null,{default:o(()=>t[25]||(t[25]=[a("Add Income",-1)])),_:1,__:[25]}),s(e(E),null,{default:o(()=>t[26]||(t[26]=[a("Enter the details of your new income source.",-1)])),_:1,__:[26]})]),_:1}),n("form",{onSubmit:O(te,["prevent"]),class:"space-y-4 py-4"},[n("div",Le,[s(e(m),{for:"source"},{default:o(()=>t[27]||(t[27]=[a("Source",-1)])),_:1,__:[27]}),s(e(_),{id:"source",modelValue:e(r).source,"onUpdate:modelValue":t[0]||(t[0]=l=>e(r).source=l),placeholder:"e.g. Salary, Freelance",required:""},null,8,["modelValue"])]),n("div",Pe,[n("div",qe,[s(e(m),{for:"amount"},{default:o(()=>t[28]||(t[28]=[a("Amount",-1)])),_:1,__:[28]}),s(e(_),{id:"amount",type:"number",modelValue:e(r).amount,"onUpdate:modelValue":t[1]||(t[1]=l=>e(r).amount=l),step:"0.01",required:""},null,8,["modelValue"])]),n("div",Re,[s(e(m),{for:"date"},{default:o(()=>t[29]||(t[29]=[a("Date",-1)])),_:1,__:[29]}),s(e(_),{id:"date",type:"date",modelValue:e(r).date,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).date=l),required:""},null,8,["modelValue"])])]),n("div",Be,[s(e(m),{for:"description"},{default:o(()=>t[30]||(t[30]=[a("Description (Optional)",-1)])),_:1,__:[30]}),s(e(_),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":t[3]||(t[3]=l=>e(r).description=l),placeholder:"Short note..."},null,8,["modelValue"])]),n("div",Ee,[n("div",ze,[s(e(X),{id:"is_recurring",checked:e(r).is_recurring,"onUpdate:checked":t[4]||(t[4]=l=>e(r).is_recurring=l)},null,8,["checked"]),s(e(m),{for:"is_recurring",class:"text-sm font-medium leading-none cursor-pointer"},{default:o(()=>t[31]||(t[31]=[a("Recurring income",-1)])),_:1,__:[31]})]),e(r).is_recurring?(u(),c("div",We,[s(e(m),{for:"recurrence_type"},{default:o(()=>t[32]||(t[32]=[a("Recurrence Period",-1)])),_:1,__:[32]}),s(e(z),{modelValue:e(r).recurrence_type,"onUpdate:modelValue":t[5]||(t[5]=l=>e(r).recurrence_type=l)},{default:o(()=>[s(e(W),null,{default:o(()=>[s(e(G),{placeholder:"Select period"})]),_:1}),s(e(Q),null,{default:o(()=>[(u(),c(V,null,S(A,l=>s(e(Y),{key:l.value,value:l.value},{default:o(()=>[a(p(l.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):w("",!0)]),s(e(H),null,{default:o(()=>[s(e(x),{type:"button",variant:"outline",onClick:t[6]||(t[6]=l=>d.value=!1)},{default:o(()=>t[33]||(t[33]=[a("Cancel",-1)])),_:1,__:[33]}),s(e(x),{type:"submit",disabled:e(r).processing},{default:o(()=>[e(r).processing?(u(),$(e(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),t[34]||(t[34]=a(" Add Income ",-1))]),_:1,__:[34]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),s(e(P),{open:f.value,"onUpdate:open":t[15]||(t[15]=l=>f.value=l)},{default:o(()=>[s(e(q),{class:"sm:max-w-[450px]"},{default:o(()=>[s(e(R),null,{default:o(()=>[s(e(B),null,{default:o(()=>t[35]||(t[35]=[a("Edit Income",-1)])),_:1,__:[35]}),s(e(E),null,{default:o(()=>t[36]||(t[36]=[a("Update the details of your income source.",-1)])),_:1,__:[36]})]),_:1}),n("form",{onSubmit:O(se,["prevent"]),class:"space-y-4 py-4"},[n("div",Ge,[s(e(m),{for:"source_edit"},{default:o(()=>t[37]||(t[37]=[a("Source",-1)])),_:1,__:[37]}),s(e(_),{id:"source_edit",modelValue:e(r).source,"onUpdate:modelValue":t[8]||(t[8]=l=>e(r).source=l),placeholder:"e.g. Salary, Freelance",required:""},null,8,["modelValue"])]),n("div",Qe,[n("div",Ye,[s(e(m),{for:"amount_edit"},{default:o(()=>t[38]||(t[38]=[a("Amount",-1)])),_:1,__:[38]}),s(e(_),{id:"amount_edit",type:"number",modelValue:e(r).amount,"onUpdate:modelValue":t[9]||(t[9]=l=>e(r).amount=l),step:"0.01",required:""},null,8,["modelValue"])]),n("div",He,[s(e(m),{for:"date_edit"},{default:o(()=>t[39]||(t[39]=[a("Date",-1)])),_:1,__:[39]}),s(e(_),{id:"date_edit",type:"date",modelValue:e(r).date,"onUpdate:modelValue":t[10]||(t[10]=l=>e(r).date=l),required:""},null,8,["modelValue"])])]),n("div",Je,[s(e(m),{for:"description_edit"},{default:o(()=>t[40]||(t[40]=[a("Description (Optional)",-1)])),_:1,__:[40]}),s(e(_),{id:"description_edit",modelValue:e(r).description,"onUpdate:modelValue":t[11]||(t[11]=l=>e(r).description=l),placeholder:"Short note..."},null,8,["modelValue"])]),n("div",Ke,[n("div",Xe,[s(e(X),{id:"is_recurring_edit",checked:e(r).is_recurring,"onUpdate:checked":t[12]||(t[12]=l=>e(r).is_recurring=l)},null,8,["checked"]),s(e(m),{for:"is_recurring_edit",class:"text-sm font-medium leading-none cursor-pointer"},{default:o(()=>t[41]||(t[41]=[a("Recurring income",-1)])),_:1,__:[41]})]),e(r).is_recurring?(u(),c("div",Ze,[s(e(m),{for:"recurrence_type_edit"},{default:o(()=>t[42]||(t[42]=[a("Recurrence Period",-1)])),_:1,__:[42]}),s(e(z),{modelValue:e(r).recurrence_type,"onUpdate:modelValue":t[13]||(t[13]=l=>e(r).recurrence_type=l)},{default:o(()=>[s(e(W),null,{default:o(()=>[s(e(G),{placeholder:"Select period"})]),_:1}),s(e(Q),null,{default:o(()=>[(u(),c(V,null,S(A,l=>s(e(Y),{key:l.value,value:l.value},{default:o(()=>[a(p(l.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):w("",!0)]),s(e(H),null,{default:o(()=>[s(e(x),{type:"button",variant:"outline",onClick:t[14]||(t[14]=l=>f.value=!1)},{default:o(()=>t[43]||(t[43]=[a("Cancel",-1)])),_:1,__:[43]}),s(e(x),{type:"submit",disabled:e(r).processing},{default:o(()=>[e(r).processing?(u(),$(e(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):w("",!0),t[44]||(t[44]=a(" Update Income ",-1))]),_:1,__:[44]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{_t as default};
