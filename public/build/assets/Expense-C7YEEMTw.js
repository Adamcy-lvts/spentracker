import{d as X,r as N,m as H,o as I,w as v,h as p,u as i,s as ye,v as vt,E as _t,G as wt,c as j,f as h,i as Ee,H as ve,k as V,b as q,e as Y,F as Q,l as ee,t as O,p as Ye,n as et,I as Nt,J as qt,K as Tt,L as G,M as St,g as Ut,A as ut,N as jt,j as Yt}from"./app-B2PDcKP3.js";import{m as ht,n as Ke,M as Kt,u as be,a as _e,b as we,c as Se,d as he,e as tt,f as nt,g as ot,h as st,i as ke,o as Ct,j as Ce,_ as xe,$ as fe,p as pe,q as Xt,r as xt,t as B,C as Wt,s as Rt,v as yt,w as Jt,x as $t,X as Qt,y as Zt,z as en,A as dt,P as tn,k as nn}from"./AppLayout.vue_vue_type_script_setup_true_lang-BzMhJDHG.js";import{_ as on,a as sn}from"./CardContent.vue_vue_type_script_setup_true_lang-CwUytZ78.js";import{_ as ln,a as rn}from"./CardTitle.vue_vue_type_script_setup_true_lang-B458Fkz2.js";import{P as an,c as Ae,a as un,_ as L,L as Re,v as Fe}from"./index-qBfqnD8L.js";import{u as dn,b as Ft,_ as ne,a as de}from"./Label.vue_vue_type_script_setup_true_lang-GCRVZXHe.js";import{_ as oe}from"./InputError.vue_vue_type_script_setup_true_lang-D6ez0iDC.js";import{T as Vt}from"./triangle-alert-DxIfNb-f.js";import{c as gn,P as cn,b as fn,a as pn,C as mn}from"./check-T1Bu_J4F.js";import{_ as vn,a as _n,b as wn,c as ue,d as Ve,e as Sn}from"./TableHeader.vue_vue_type_script_setup_true_lang-nOTk1QLg.js";import{T as hn}from"./trash-2-BqmtpjGN.js";import{_ as gt}from"./Checkbox.vue_vue_type_script_setup_true_lang-BhBdCFnU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DPSL5pC-.js";import"./PwaInstallPrompt-Cvz41DQN.js";import"./VisuallyHiddenInput-_i0LwEt3.js";const[Cn,xn]=gn(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext");var Rn=X({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const o=Cn({modelValue:N(!1)});return(t,n)=>(I(),H(i(cn),{present:t.forceMount||i(Ke)(i(o).modelValue.value)||i(o).modelValue.value===!0},{default:v(()=>[p(i(an),{as:t.as,"as-child":t.asChild,"data-state":i(ht)(i(o).modelValue.value)},{default:v(()=>[ye(t.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),yn=Rn,$n=X({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1,default:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,n=o,s=dn(t,"modelValue",n);return xn({modelValue:s}),(l,r)=>(I(),H(Kt,vt({role:"menuitemcheckbox"},t,{"aria-checked":i(Ke)(i(s))?"mixed":i(s),"data-state":i(ht)(i(s)),onSelect:r[0]||(r[0]=async a=>{n("select",a),i(Ke)(i(s))?s.value=!0:s.value=!i(s)})}),{default:v(()=>[ye(l.$slots,"default",{modelValue:i(s)})]),_:3},16,["aria-checked","data-state"]))}}),Fn=$n,Vn=X({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,s=fn(o);return Ft(),(l,r)=>(I(),H(i(Fn),_t(wt({...t,...i(s)})),{default:v(()=>[ye(l.$slots,"default")]),_:3},16))}}),In=Vn,Mn=X({__name:"DropdownMenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return Ft(),(t,n)=>(I(),H(i(yn),_t(wt(o)),{default:v(()=>[ye(t.$slots,"default")]),_:3},16))}}),Dn=Mn;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=Ae("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ae("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ae("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Ae("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),bn={class:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center"},An=X({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,n=o,s=j(()=>{const{class:r,...a}=t;return a}),l=pn(s,n);return(r,a)=>(I(),H(i(In),vt({"data-slot":"dropdown-menu-checkbox-item"},i(l),{class:i(un)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:v(()=>[h("span",bn,[p(i(Dn),null,{default:v(()=>[p(i(mn),{class:"size-4"})]),_:1})]),ye(r.$slots,"default")]),_:3},16,["class"]))}}),zn={class:"space-y-2"},Gn={class:"space-y-2"},Ln={key:0,class:"space-y-2"},On={class:"flex items-center gap-2"},Hn={class:"space-y-2"},Bn=X({__name:"EditExpenseDialog",props:{open:{type:Boolean},expense:{},categories:{}},emits:["update:open"],setup(e,{emit:o}){const t=e,n=o,{isOnline:s}=be(),{updateExpenseOffline:l}=xt(),r=N(!1),a=m=>{try{const S=new Date(m);if(isNaN(S.getTime()))return fe(pe());const R=S.getFullYear(),b=S.getMonth()+1,k=S.getDate();return new Xt(R,b,k)}catch{return fe(pe())}},u=Ee({description:t.expense.description,amount:t.expense.amount,date:t.expense.date,category_id:t.expense.category_id}),g=N(a(t.expense.date));ve(g,m=>{m&&(u.date=m.toString())});const f=async()=>{if(!(r.value||u.processing))try{if(r.value=!0,t.expense.isOffline)await l(t.expense.id,{description:u.description,amount:u.amount,date:u.date,category_id:u.category_id}),n("update:open",!1),B.success("Expense updated successfully! âœ¨");else if(s.value){u.put(route("expense.update",t.expense.id),{onSuccess:()=>{n("update:open",!1),B.success("Expense updated successfully! âœ¨")},onError:()=>{B.error("Failed to update expense. Please check your inputs.")},onFinish:()=>{r.value=!1}});return}else await l(t.expense.id,{description:u.description,amount:u.amount,date:u.date,category_id:u.category_id}),n("update:open",!1),B.success("Expense queued for update when online! ðŸ“´")}catch(m){console.error("Failed to update expense:",m),B.error("Failed to update expense. Please try again.")}finally{r.value=!1}},_=()=>{n("update:open",!1)},c=N(""),d=m=>{if(m&&!isNaN(parseFloat(m))){const S=parseFloat(m);c.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(S)}else c.value=""},w=m=>{const S=m.target,k=S.value.replace(/[^\d.]/g,"").split("."),D=k[0]+(k.length>1?"."+k.slice(1).join(""):"");if(u.amount=D,D&&!isNaN(parseFloat(D))){const y=parseFloat(D);c.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(y)}else c.value=D?"â‚¦"+D:"";setTimeout(()=>{const y=c.value.length;S.setSelectionRange(y,y)},0)};return d(t.expense.amount),ve(()=>t.expense,m=>{u.reset(),u.description=m.description,u.amount=m.amount,u.date=m.date,u.category_id=m.category_id,g.value=a(m.date),d(m.amount)},{deep:!0}),(m,S)=>(I(),H(i(xe),{open:m.open,"onUpdate:open":S[4]||(S[4]=R=>m.$emit("update:open",R))},{default:v(()=>[p(i(_e),{class:"sm:max-w-[425px]"},{default:v(()=>[p(i(we),null,{default:v(()=>[p(i(Se),null,{default:v(()=>S[5]||(S[5]=[V("Edit Expense",-1)])),_:1,__:[5]}),p(i(he),null,{default:v(()=>S[6]||(S[6]=[V(" Make changes to your expense here. Click save when you're done. ",-1)])),_:1,__:[6]})]),_:1}),h("form",{onSubmit:Ye(f,["prevent"]),class:"space-y-4"},[h("div",zn,[p(i(ne),{for:"edit-description"},{default:v(()=>S[7]||(S[7]=[V("Description",-1)])),_:1,__:[7]}),p(i(de),{id:"edit-description",type:"text",modelValue:i(u).description,"onUpdate:modelValue":S[0]||(S[0]=R=>i(u).description=R),placeholder:"Coffee, Lunch, Gas, etc.",required:"",disabled:i(u).processing||r.value,class:"w-full"},null,8,["modelValue","disabled"]),p(oe,{message:i(u).errors.description},null,8,["message"])]),h("div",Gn,[p(i(ne),{for:"edit-amount"},{default:v(()=>S[8]||(S[8]=[V("Amount",-1)])),_:1,__:[8]}),p(i(de),{id:"edit-amount",type:"text",modelValue:c.value,"onUpdate:modelValue":S[1]||(S[1]=R=>c.value=R),onInput:w,placeholder:"â‚¦0",required:"",disabled:i(u).processing||r.value,class:"w-full"},null,8,["modelValue","disabled"]),p(oe,{message:i(u).errors.amount},null,8,["message"])]),m.categories&&m.categories.length>0?(I(),q("div",Ln,[p(i(ne),{for:"edit-category"},{default:v(()=>S[9]||(S[9]=[V("Category",-1)])),_:1,__:[9]}),p(i(tt),{modelValue:i(u).category_id,"onUpdate:modelValue":S[2]||(S[2]=R=>i(u).category_id=R),disabled:i(u).processing||r.value},{default:v(()=>[p(i(nt),null,{default:v(()=>[p(i(ot),{placeholder:"Select category"})]),_:1}),p(i(st),null,{default:v(()=>[p(i(ke),{value:""},{default:v(()=>S[10]||(S[10]=[h("div",{class:"flex items-center gap-2"},[h("div",{class:"w-3 h-3 rounded-full bg-gray-400"}),V(" Uncategorized ")],-1)])),_:1,__:[10]}),(I(!0),q(Q,null,ee(m.categories,R=>(I(),H(i(ke),{key:R.id,value:R.id.toString()},{default:v(()=>[h("div",On,[h("div",{class:"w-3 h-3 rounded-full",style:et({backgroundColor:R.color})},null,4),V(" "+O(R.name),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),p(oe,{message:i(u).errors.category_id},null,8,["message"])])):Y("",!0),h("div",Hn,[p(i(ne),null,{default:v(()=>S[11]||(S[11]=[V("Date",-1)])),_:1,__:[11]}),p(i(Ct),{modelValue:g.value,"onUpdate:modelValue":S[3]||(S[3]=R=>g.value=R),placeholder:"Select date",disabled:i(u).processing||r.value},null,8,["modelValue","disabled"]),p(oe,{message:i(u).errors.date},null,8,["message"])]),p(i(Ce),null,{default:v(()=>[p(i(L),{type:"button",variant:"outline",onClick:_,disabled:i(u).processing||r.value},{default:v(()=>S[12]||(S[12]=[V(" Cancel ",-1)])),_:1,__:[12]},8,["disabled"]),p(i(L),{type:"submit",disabled:i(u).processing||r.value},{default:v(()=>[i(u).processing||r.value?(I(),H(i(Re),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),V(" "+O(i(u).processing||r.value?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),Nn={class:"flex items-center gap-3"},qn={class:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center"},Tn=X({__name:"DeleteExpenseDialog",props:{open:{type:Boolean},expense:{},deleteExpenseOffline:{type:Function}},emits:["update:open"],setup(e,{emit:o}){const t=e,n=o,{isOnline:s}=be(),l=N(!1),r=Ee({}),a=async()=>{if(!l.value)try{if(l.value=!0,t.expense.isOffline)if(t.deleteExpenseOffline)await t.deleteExpenseOffline(t.expense.id),n("update:open",!1),B.success("Expense deleted successfully! ðŸ—‘ï¸");else throw new Error("Offline delete function not available");else if(s.value){r.delete(route("expense.destroy",t.expense.id),{onSuccess:()=>{n("update:open",!1),B.success("Expense deleted successfully! ðŸ—‘ï¸")},onError:()=>{B.error("Failed to delete expense. Please try again.")},onFinish:()=>{l.value=!1}});return}else if(t.deleteExpenseOffline)await t.deleteExpenseOffline(t.expense.id),n("update:open",!1),B.success("Expense queued for deletion when online! ðŸ“´");else throw new Error("Offline delete function not available")}catch(g){console.error("Failed to delete expense:",g),B.error("Failed to delete expense. Please try again.")}finally{l.value=!1}},u=()=>{n("update:open",!1)};return(g,f)=>(I(),H(i(xe),{open:g.open,"onUpdate:open":f[0]||(f[0]=_=>g.$emit("update:open",_))},{default:v(()=>[p(i(_e),{class:"sm:max-w-[425px]"},{default:v(()=>[p(i(we),null,{default:v(()=>[h("div",Nn,[h("div",qn,[p(i(Vt),{class:"w-5 h-5 text-destructive"})]),h("div",null,[p(i(Se),{class:"text-destructive"},{default:v(()=>f[1]||(f[1]=[V("Delete Expense",-1)])),_:1,__:[1]})])]),p(i(he),{class:"pt-2"},{default:v(()=>[V(' Are you sure you want to delete "'+O(g.expense.description)+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),p(i(Ce),null,{default:v(()=>[p(i(L),{type:"button",variant:"outline",onClick:u,disabled:i(r).processing||l.value},{default:v(()=>f[2]||(f[2]=[V(" Cancel ",-1)])),_:1,__:[2]},8,["disabled"]),p(i(L),{type:"button",variant:"destructive",onClick:a,disabled:i(r).processing||l.value},{default:v(()=>[i(r).processing||l.value?(I(),H(i(Re),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),V(" "+O(i(r).processing||l.value?"Deleting...":"Delete Expense"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),Un={class:"flex items-center gap-3"},jn={class:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center"},Yn={class:"mb-2"},Kn={key:0,class:"text-sm text-muted-foreground bg-muted/50 rounded-md p-3"},Xn=X({__name:"BulkDeleteExpenseDialog",props:{open:{type:Boolean},expenses:{},isInitialized:{type:Boolean},bulkDeleteExpensesOffline:{type:Function}},emits:["update:open","confirmed"],setup(e,{emit:o}){const t=e,n=o,{isOnline:s}=be(),l=N(!1),r=j(()=>t.expenses?.length||0),a=j(()=>t.expenses?.length?t.expenses.length<=3?t.expenses.map(f=>`"${f.description}"`).join(", "):`${t.expenses.slice(0,3).map(_=>`"${_.description}"`).join(", ")} and ${t.expenses.length-3} more`:""),u=async()=>{if(!(l.value||!t.expenses?.length))try{if(l.value=!0,!t.isInitialized){B.error("App is still initializing, please wait...");return}if(console.log("ðŸ” Debug expenses for bulk delete:",t.expenses),console.log("ðŸ” Expense details:",t.expenses.map(f=>({id:f.id,isOffline:f.isOffline,localId:f.localId}))),s.value){console.log("ðŸ“¡ Bulk deleting expenses online");const f=t.expenses.filter(c=>c.id&&!c.isOffline),_=t.expenses.filter(c=>c.isOffline);if(console.log("ðŸ” Server expenses:",f),console.log("ðŸ” Offline expenses:",_),f.length>0){const c=f.map(m=>m.id),d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),w=await fetch("/expenses/bulk",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":d||""},credentials:"include",body:JSON.stringify({expense_ids:c})});if(!w.ok){const m=await w.json();throw new Error(m.message||`Server error: ${w.status}`)}}if(_.length>0){const c=_.map(d=>d.localId);await t.bulkDeleteExpensesOffline(c)}B.success(`Successfully deleted ${r.value} expense(s)!`),n("update:open",!1),window.location.reload()}else{console.log("ðŸ“´ Bulk deleting expenses offline");const f=t.expenses.map(c=>c.isOffline?c.localId:c.id),_=await t.bulkDeleteExpensesOffline(f);n("update:open",!1),_.success?B.success(`Successfully deleted ${_.deletedCount} expense(s) offline! ðŸ“´`):B.warning(`Deleted ${_.deletedCount} expense(s), but some failed: ${_.errors.join(", ")}`)}}catch(f){console.error("Bulk delete failed:",f),B.error(`Failed to delete expenses: ${f instanceof Error?f.message:"Unknown error"}`)}finally{l.value=!1}},g=()=>{n("update:open",!1)};return(f,_)=>(I(),H(i(xe),{open:f.open,"onUpdate:open":_[0]||(_[0]=c=>f.$emit("update:open",c))},{default:v(()=>[p(i(_e),{class:"sm:max-w-[500px]"},{default:v(()=>[p(i(we),null,{default:v(()=>[h("div",Un,[h("div",jn,[p(i(Vt),{class:"w-5 h-5 text-destructive"})]),h("div",null,[p(i(Se),{class:"text-destructive"},{default:v(()=>[V("Delete "+O(r.value)+" Expense"+O(r.value>1?"s":""),1)]),_:1})])]),p(i(he),{class:"pt-2"},{default:v(()=>[h("p",Yn," Are you sure you want to delete "+O(r.value)+" expense"+O(r.value>1?"s":"")+"? This action cannot be undone. ",1),a.value?(I(),q("div",Kn,[_[1]||(_[1]=h("strong",null,"Expenses to delete:",-1)),_[2]||(_[2]=h("br",null,null,-1)),V(" "+O(a.value),1)])):Y("",!0)]),_:1})]),_:1}),p(i(Ce),null,{default:v(()=>[p(i(L),{type:"button",variant:"outline",onClick:g,disabled:l.value},{default:v(()=>_[3]||(_[3]=[V(" Cancel ",-1)])),_:1,__:[3]},8,["disabled"]),p(i(L),{type:"button",variant:"destructive",onClick:u,disabled:l.value},{default:v(()=>[l.value?(I(),H(i(Re),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),V(" "+O(l.value?"Deleting...":`Delete ${r.value} Expense${r.value>1?"s":""}`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function le(e,o){return typeof e=="function"?e(o):e}function K(e,o){return t=>{o.setState(n=>({...n,[e]:le(t,n[e])}))}}function ze(e){return e instanceof Function}function Wn(e){return Array.isArray(e)&&e.every(o=>typeof o=="number")}function Jn(e,o){const t=[],n=s=>{s.forEach(l=>{t.push(l);const r=o(l);r!=null&&r.length&&n(r)})};return n(e),t}function $(e,o,t){let n=[],s;return l=>{let r;t.key&&t.debug&&(r=Date.now());const a=e(l);if(!(a.length!==n.length||a.some((f,_)=>n[_]!==f)))return s;n=a;let g;if(t.key&&t.debug&&(g=Date.now()),s=o(...a),t==null||t.onChange==null||t.onChange(s),t.key&&t.debug&&t!=null&&t.debug()){const f=Math.round((Date.now()-r)*100)/100,_=Math.round((Date.now()-g)*100)/100,c=_/16,d=(w,m)=>{for(w=String(w);w.length<m;)w=" "+w;return w};console.info(`%câ± ${d(_,5)} /${d(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return s}}function F(e,o,t,n){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[o]},key:!1,onChange:n}}function Qn(e,o,t,n){const s=()=>{var r;return(r=l.getValue())!=null?r:e.options.renderFallbackValue},l={id:`${o.id}_${t.id}`,row:o,column:t,getValue:()=>o.getValue(n),renderValue:s,getContext:$(()=>[e,t,o,l],(r,a,u,g)=>({table:r,column:a,row:u,cell:g,getValue:g.getValue,renderValue:g.renderValue}),F(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(l,t,o,e)},{}),l}function Zn(e,o,t,n){var s,l;const a={...e._getDefaultColumnDef(),...o},u=a.accessorKey;let g=(s=(l=a.id)!=null?l:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:u&&(u.includes(".")?f=c=>{let d=c;for(const m of u.split(".")){var w;d=(w=d)==null?void 0:w[m]}return d}:f=c=>c[a.accessorKey]),!g)throw new Error;let _={id:`${String(g)}`,accessorFn:f,parent:n,depth:t,columnDef:a,columns:[],getFlatColumns:$(()=>[!0],()=>{var c;return[_,...(c=_.columns)==null?void 0:c.flatMap(d=>d.getFlatColumns())]},F(e.options,"debugColumns")),getLeafColumns:$(()=>[e._getOrderColumnsFn()],c=>{var d;if((d=_.columns)!=null&&d.length){let w=_.columns.flatMap(m=>m.getLeafColumns());return c(w)}return[_]},F(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(_,e);return _}const T="debugHeaders";function ct(e,o,t){var n;let l={id:(n=t.id)!=null?n:o.id,column:o,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),r.push(u)};return a(l),r},getContext:()=>({table:e,header:l,column:o})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(l,e)}),l}const eo={createTable:e=>{e.getHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,s)=>{var l,r;const a=(l=n?.map(_=>t.find(c=>c.id===_)).filter(Boolean))!=null?l:[],u=(r=s?.map(_=>t.find(c=>c.id===_)).filter(Boolean))!=null?r:[],g=t.filter(_=>!(n!=null&&n.includes(_.id))&&!(s!=null&&s.includes(_.id)));return Ie(o,[...a,...g,...u],e)},F(e.options,T)),e.getCenterHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,s)=>(t=t.filter(l=>!(n!=null&&n.includes(l.id))&&!(s!=null&&s.includes(l.id))),Ie(o,t,e,"center")),F(e.options,T)),e.getLeftHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(o,t,n)=>{var s;const l=(s=n?.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?s:[];return Ie(o,l,e,"left")},F(e.options,T)),e.getRightHeaderGroups=$(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(o,t,n)=>{var s;const l=(s=n?.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?s:[];return Ie(o,l,e,"right")},F(e.options,T)),e.getFooterGroups=$(()=>[e.getHeaderGroups()],o=>[...o].reverse(),F(e.options,T)),e.getLeftFooterGroups=$(()=>[e.getLeftHeaderGroups()],o=>[...o].reverse(),F(e.options,T)),e.getCenterFooterGroups=$(()=>[e.getCenterHeaderGroups()],o=>[...o].reverse(),F(e.options,T)),e.getRightFooterGroups=$(()=>[e.getRightHeaderGroups()],o=>[...o].reverse(),F(e.options,T)),e.getFlatHeaders=$(()=>[e.getHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,T)),e.getLeftFlatHeaders=$(()=>[e.getLeftHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,T)),e.getCenterFlatHeaders=$(()=>[e.getCenterHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,T)),e.getRightFlatHeaders=$(()=>[e.getRightHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,T)),e.getCenterLeafHeaders=$(()=>[e.getCenterFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,T)),e.getLeftLeafHeaders=$(()=>[e.getLeftFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,T)),e.getRightLeafHeaders=$(()=>[e.getRightFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,T)),e.getLeafHeaders=$(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(o,t,n)=>{var s,l,r,a,u,g;return[...(s=(l=o[0])==null?void 0:l.headers)!=null?s:[],...(r=(a=t[0])==null?void 0:a.headers)!=null?r:[],...(u=(g=n[0])==null?void 0:g.headers)!=null?u:[]].map(f=>f.getLeafHeaders()).flat()},F(e.options,T))}};function Ie(e,o,t,n){var s,l;let r=0;const a=function(c,d){d===void 0&&(d=1),r=Math.max(r,d),c.filter(w=>w.getIsVisible()).forEach(w=>{var m;(m=w.columns)!=null&&m.length&&a(w.columns,d+1)},0)};a(e);let u=[];const g=(c,d)=>{const w={depth:d,id:[n,`${d}`].filter(Boolean).join("_"),headers:[]},m=[];c.forEach(S=>{const R=[...m].reverse()[0],b=S.column.depth===w.depth;let k,D=!1;if(b&&S.column.parent?k=S.column.parent:(k=S.column,D=!0),R&&R?.column===k)R.subHeaders.push(S);else{const y=ct(t,k,{id:[n,d,k.id,S?.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${m.filter(x=>x.column===k).length}`:void 0,depth:d,index:m.length});y.subHeaders.push(S),m.push(y)}w.headers.push(S),S.headerGroup=w}),u.push(w),d>0&&g(m,d-1)},f=o.map((c,d)=>ct(t,c,{depth:r,index:d}));g(f,r-1),u.reverse();const _=c=>c.filter(w=>w.column.getIsVisible()).map(w=>{let m=0,S=0,R=[0];w.subHeaders&&w.subHeaders.length?(R=[],_(w.subHeaders).forEach(k=>{let{colSpan:D,rowSpan:y}=k;m+=D,R.push(y)})):m=1;const b=Math.min(...R);return S=S+b,w.colSpan=m,w.rowSpan=S,{colSpan:m,rowSpan:S}});return _((s=(l=u[0])==null?void 0:l.headers)!=null?s:[]),u}const lt=(e,o,t,n,s,l,r)=>{let a={id:o,index:n,original:t,depth:s,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const g=e.getColumn(u);if(g!=null&&g.accessorFn)return a._valuesCache[u]=g.accessorFn(a.original,n),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const g=e.getColumn(u);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=g.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var g;return(g=a.getValue(u))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Jn(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],g=a;for(;;){const f=g.getParentRow();if(!f)break;u.push(f),g=f}return u.reverse()},getAllCells:$(()=>[e.getAllLeafColumns()],u=>u.map(g=>Qn(e,a,g,g.id)),F(e.options,"debugRows")),_getAllCellsByColumnId:$(()=>[a.getAllCells()],u=>u.reduce((g,f)=>(g[f.column.id]=f,g),{}),F(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const g=e._features[u];g==null||g.createRow==null||g.createRow(a,e)}return a},to={createColumn:(e,o)=>{e._getFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():o.getPreFilteredRowModel(),e._getFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},It=(e,o,t)=>{var n,s;const l=t==null||(n=t.toString())==null?void 0:n.toLowerCase();return!!(!((s=e.getValue(o))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(l))};It.autoRemove=e=>W(e);const Mt=(e,o,t)=>{var n;return!!(!((n=e.getValue(o))==null||(n=n.toString())==null)&&n.includes(t))};Mt.autoRemove=e=>W(e);const Dt=(e,o,t)=>{var n;return((n=e.getValue(o))==null||(n=n.toString())==null?void 0:n.toLowerCase())===t?.toLowerCase()};Dt.autoRemove=e=>W(e);const Pt=(e,o,t)=>{var n;return(n=e.getValue(o))==null?void 0:n.includes(t)};Pt.autoRemove=e=>W(e);const Et=(e,o,t)=>!t.some(n=>{var s;return!((s=e.getValue(o))!=null&&s.includes(n))});Et.autoRemove=e=>W(e)||!(e!=null&&e.length);const kt=(e,o,t)=>t.some(n=>{var s;return(s=e.getValue(o))==null?void 0:s.includes(n)});kt.autoRemove=e=>W(e)||!(e!=null&&e.length);const bt=(e,o,t)=>e.getValue(o)===t;bt.autoRemove=e=>W(e);const At=(e,o,t)=>e.getValue(o)==t;At.autoRemove=e=>W(e);const rt=(e,o,t)=>{let[n,s]=t;const l=e.getValue(o);return l>=n&&l<=s};rt.resolveFilterValue=e=>{let[o,t]=e,n=typeof o!="number"?parseFloat(o):o,s=typeof t!="number"?parseFloat(t):t,l=o===null||Number.isNaN(n)?-1/0:n,r=t===null||Number.isNaN(s)?1/0:s;if(l>r){const a=l;l=r,r=a}return[l,r]};rt.autoRemove=e=>W(e)||W(e[0])&&W(e[1]);const te={includesString:It,includesStringSensitive:Mt,equalsString:Dt,arrIncludes:Pt,arrIncludesAll:Et,arrIncludesSome:kt,equals:bt,weakEquals:At,inNumberRange:rt};function W(e){return e==null||e===""}const no={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:K("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,o)=>{e.getAutoFilterFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);return typeof n=="string"?te.includesString:typeof n=="number"?te.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?te.equals:Array.isArray(n)?te.arrIncludes:te.weakEquals},e.getFilterFn=()=>{var t,n;return ze(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(n=o.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?t:te[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,n,s;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((n=o.options.enableColumnFilters)!=null?n:!0)&&((s=o.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=o.getState().columnFilters)==null||(t=t.find(n=>n.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,n;return(t=(n=o.getState().columnFilters)==null?void 0:n.findIndex(s=>s.id===e.id))!=null?t:-1},e.setFilterValue=t=>{o.setColumnFilters(n=>{const s=e.getFilterFn(),l=n?.find(f=>f.id===e.id),r=le(t,l?l.value:void 0);if(ft(s,r,e)){var a;return(a=n?.filter(f=>f.id!==e.id))!=null?a:[]}const u={id:e.id,value:r};if(l){var g;return(g=n?.map(f=>f.id===e.id?u:f))!=null?g:[]}return n!=null&&n.length?[...n,u]:[u]})}},createRow:(e,o)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=o=>{const t=e.getAllLeafColumns(),n=s=>{var l;return(l=le(o,s))==null?void 0:l.filter(r=>{const a=t.find(u=>u.id===r.id);if(a){const u=a.getFilterFn();if(ft(u,r.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=o=>{var t,n;e.setColumnFilters(o?[]:(t=(n=e.initialState)==null?void 0:n.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ft(e,o,t){return(e&&e.autoRemove?e.autoRemove(o,t):!1)||typeof o>"u"||typeof o=="string"&&!o}const oo=(e,o,t)=>t.reduce((n,s)=>{const l=s.getValue(e);return n+(typeof l=="number"?l:0)},0),so=(e,o,t)=>{let n;return t.forEach(s=>{const l=s.getValue(e);l!=null&&(n>l||n===void 0&&l>=l)&&(n=l)}),n},lo=(e,o,t)=>{let n;return t.forEach(s=>{const l=s.getValue(e);l!=null&&(n<l||n===void 0&&l>=l)&&(n=l)}),n},ro=(e,o,t)=>{let n,s;return t.forEach(l=>{const r=l.getValue(e);r!=null&&(n===void 0?r>=r&&(n=s=r):(n>r&&(n=r),s<r&&(s=r)))}),[n,s]},io=(e,o)=>{let t=0,n=0;if(o.forEach(s=>{let l=s.getValue(e);l!=null&&(l=+l)>=l&&(++t,n+=l)}),t)return n/t},ao=(e,o)=>{if(!o.length)return;const t=o.map(l=>l.getValue(e));if(!Wn(t))return;if(t.length===1)return t[0];const n=Math.floor(t.length/2),s=t.sort((l,r)=>l-r);return t.length%2!==0?s[n]:(s[n-1]+s[n])/2},uo=(e,o)=>Array.from(new Set(o.map(t=>t.getValue(e))).values()),go=(e,o)=>new Set(o.map(t=>t.getValue(e))).size,co=(e,o)=>o.length,Oe={sum:oo,min:so,max:lo,extent:ro,mean:io,median:ao,unique:uo,uniqueCount:go,count:co},fo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var o,t;return(o=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?o:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:K("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,o)=>{e.toggleGrouping=()=>{o.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(n=>n!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,n;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((n=o.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);if(typeof n=="number")return Oe.sum;if(Object.prototype.toString.call(n)==="[object Date]")return Oe.extent},e.getAggregationFn=()=>{var t,n;if(!e)throw new Error;return ze(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(n=o.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?t:Oe[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=o=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(o),e.resetGrouping=o=>{var t,n;e.setGrouping(o?[]:(t=(n=e.initialState)==null?void 0:n.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,o)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const n=o.getColumn(t);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[t]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,o,t,n)=>{e.getIsGrouped=()=>o.getIsGrouped()&&o.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&o.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=t.subRows)!=null&&s.length)}}};function po(e,o,t){if(!(o!=null&&o.length)||!t)return e;const n=e.filter(l=>!o.includes(l.id));return t==="remove"?n:[...o.map(l=>e.find(r=>r.id===l)).filter(Boolean),...n]}const mo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:K("columnOrder",e)}),createColumn:(e,o)=>{e.getIndex=$(t=>[me(o,t)],t=>t.findIndex(n=>n.id===e.id),F(o.options,"debugColumns")),e.getIsFirstColumn=t=>{var n;return((n=me(o,t)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=t=>{var n;const s=me(o,t);return((n=s[s.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=o=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(o),e.resetColumnOrder=o=>{var t;e.setColumnOrder(o?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=$(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(o,t,n)=>s=>{let l=[];if(!(o!=null&&o.length))l=s;else{const r=[...o],a=[...s];for(;a.length&&r.length;){const u=r.shift(),g=a.findIndex(f=>f.id===u);g>-1&&l.push(a.splice(g,1)[0])}l=[...l,...a]}return po(l,t,n)},F(e.options,"debugTable"))}},He=()=>({left:[],right:[]}),vo={getInitialState:e=>({columnPinning:He(),...e}),getDefaultOptions:e=>({onColumnPinningChange:K("columnPinning",e)}),createColumn:(e,o)=>{e.pin=t=>{const n=e.getLeafColumns().map(s=>s.id).filter(Boolean);o.setColumnPinning(s=>{var l,r;if(t==="right"){var a,u;return{left:((a=s?.left)!=null?a:[]).filter(_=>!(n!=null&&n.includes(_))),right:[...((u=s?.right)!=null?u:[]).filter(_=>!(n!=null&&n.includes(_))),...n]}}if(t==="left"){var g,f;return{left:[...((g=s?.left)!=null?g:[]).filter(_=>!(n!=null&&n.includes(_))),...n],right:((f=s?.right)!=null?f:[]).filter(_=>!(n!=null&&n.includes(_)))}}return{left:((l=s?.left)!=null?l:[]).filter(_=>!(n!=null&&n.includes(_))),right:((r=s?.right)!=null?r:[]).filter(_=>!(n!=null&&n.includes(_)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var s,l,r;return((s=n.columnDef.enablePinning)!=null?s:!0)&&((l=(r=o.options.enableColumnPinning)!=null?r:o.options.enablePinning)!=null?l:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:n,right:s}=o.getState().columnPinning,l=t.some(a=>n?.includes(a)),r=t.some(a=>s?.includes(a));return l?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,n;const s=e.getIsPinned();return s?(t=(n=o.getState().columnPinning)==null||(n=n[s])==null?void 0:n.indexOf(e.id))!=null?t:-1:0}},createRow:(e,o)=>{e.getCenterVisibleCells=$(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left,o.getState().columnPinning.right],(t,n,s)=>{const l=[...n??[],...s??[]];return t.filter(r=>!l.includes(r.column.id))},F(o.options,"debugRows")),e.getLeftVisibleCells=$(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(r=>r.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),F(o.options,"debugRows")),e.getRightVisibleCells=$(()=>[e._getAllVisibleCells(),o.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(r=>r.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),F(o.options,"debugRows"))},createTable:e=>{e.setColumnPinning=o=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(o),e.resetColumnPinning=o=>{var t,n;return e.setColumnPinning(o?He():(t=(n=e.initialState)==null?void 0:n.columnPinning)!=null?t:He())},e.getIsSomeColumnsPinned=o=>{var t;const n=e.getState().columnPinning;if(!o){var s,l;return!!((s=n.left)!=null&&s.length||(l=n.right)!=null&&l.length)}return!!((t=n[o])!=null&&t.length)},e.getLeftLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(o,t)=>(t??[]).map(n=>o.find(s=>s.id===n)).filter(Boolean),F(e.options,"debugColumns")),e.getRightLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(o,t)=>(t??[]).map(n=>o.find(s=>s.id===n)).filter(Boolean),F(e.options,"debugColumns")),e.getCenterLeafColumns=$(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n)=>{const s=[...t??[],...n??[]];return o.filter(l=>!s.includes(l.id))},F(e.options,"debugColumns"))}};function _o(e){return e||(typeof document<"u"?document:null)}const Me={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Be=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),wo={getDefaultColumnDef:()=>Me,getInitialState:e=>({columnSizing:{},columnSizingInfo:Be(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:K("columnSizing",e),onColumnSizingInfoChange:K("columnSizingInfo",e)}),createColumn:(e,o)=>{e.getSize=()=>{var t,n,s;const l=o.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Me.minSize,(n=l??e.columnDef.size)!=null?n:Me.size),(s=e.columnDef.maxSize)!=null?s:Me.maxSize)},e.getStart=$(t=>[t,me(o,t),o.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((s,l)=>s+l.getSize(),0),F(o.options,"debugColumns")),e.getAfter=$(t=>[t,me(o,t),o.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((s,l)=>s+l.getSize(),0),F(o.options,"debugColumns")),e.resetSize=()=>{o.setColumnSizing(t=>{let{[e.id]:n,...s}=t;return s})},e.getCanResize=()=>{var t,n;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((n=o.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>o.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,o)=>{e.getSize=()=>{let t=0;const n=s=>{if(s.subHeaders.length)s.subHeaders.forEach(n);else{var l;t+=(l=s.column.getSize())!=null?l:0}};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const n=o.getColumn(e.column.id),s=n?.getCanResize();return l=>{if(!n||!s||(l.persist==null||l.persist(),Ne(l)&&l.touches&&l.touches.length>1))return;const r=e.getSize(),a=e?e.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[n.id,n.getSize()]],u=Ne(l)?Math.round(l.touches[0].clientX):l.clientX,g={},f=(R,b)=>{typeof b=="number"&&(o.setColumnSizingInfo(k=>{var D,y;const x=o.options.columnResizeDirection==="rtl"?-1:1,M=(b-((D=k?.startOffset)!=null?D:0))*x,A=Math.max(M/((y=k?.startSize)!=null?y:0),-.999999);return k.columnSizingStart.forEach(J=>{let[se,$e]=J;g[se]=Math.round(Math.max($e+$e*A,0)*100)/100}),{...k,deltaOffset:M,deltaPercentage:A}}),(o.options.columnResizeMode==="onChange"||R==="end")&&o.setColumnSizing(k=>({...k,...g})))},_=R=>f("move",R),c=R=>{f("end",R),o.setColumnSizingInfo(b=>({...b,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=_o(t),w={moveHandler:R=>_(R.clientX),upHandler:R=>{d?.removeEventListener("mousemove",w.moveHandler),d?.removeEventListener("mouseup",w.upHandler),c(R.clientX)}},m={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),_(R.touches[0].clientX),!1),upHandler:R=>{var b;d?.removeEventListener("touchmove",m.moveHandler),d?.removeEventListener("touchend",m.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),c((b=R.touches[0])==null?void 0:b.clientX)}},S=So()?{passive:!1}:!1;Ne(l)?(d?.addEventListener("touchmove",m.moveHandler,S),d?.addEventListener("touchend",m.upHandler,S)):(d?.addEventListener("mousemove",w.moveHandler,S),d?.addEventListener("mouseup",w.upHandler,S)),o.setColumnSizingInfo(R=>({...R,startOffset:u,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=o=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(o),e.setColumnSizingInfo=o=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(o),e.resetColumnSizing=o=>{var t;e.setColumnSizing(o?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=o=>{var t;e.setColumnSizingInfo(o?Be():(t=e.initialState.columnSizingInfo)!=null?t:Be())},e.getTotalSize=()=>{var o,t;return(o=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((n,s)=>n+s.getSize(),0))!=null?o:0},e.getLeftTotalSize=()=>{var o,t;return(o=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((n,s)=>n+s.getSize(),0))!=null?o:0},e.getCenterTotalSize=()=>{var o,t;return(o=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((n,s)=>n+s.getSize(),0))!=null?o:0},e.getRightTotalSize=()=>{var o,t;return(o=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((n,s)=>n+s.getSize(),0))!=null?o:0}}};let De=null;function So(){if(typeof De=="boolean")return De;let e=!1;try{const o={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,o),window.removeEventListener("test",t)}catch{e=!1}return De=e,De}function Ne(e){return e.type==="touchstart"}const ho={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:K("columnVisibility",e)}),createColumn:(e,o)=>{e.toggleVisibility=t=>{e.getCanHide()&&o.setColumnVisibility(n=>({...n,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,n;const s=e.columns;return(t=s.length?s.some(l=>l.getIsVisible()):(n=o.getState().columnVisibility)==null?void 0:n[e.id])!=null?t:!0},e.getCanHide=()=>{var t,n;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((n=o.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,o)=>{e._getAllVisibleCells=$(()=>[e.getAllCells(),o.getState().columnVisibility],t=>t.filter(n=>n.column.getIsVisible()),F(o.options,"debugRows")),e.getVisibleCells=$(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,n,s)=>[...t,...n,...s],F(o.options,"debugRows"))},createTable:e=>{const o=(t,n)=>$(()=>[n(),n().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),F(e.options,"debugColumns"));e.getVisibleFlatColumns=o("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=o("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=o("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=o("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=o("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,l)=>({...s,[l.id]:t||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function me(e,o){return o?o==="center"?e.getCenterVisibleLeafColumns():o==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Co={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},xo={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:K("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:o=>{var t;const n=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[o.id])==null?void 0:t.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,o)=>{e.getCanGlobalFilter=()=>{var t,n,s,l;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((n=o.options.enableGlobalFilter)!=null?n:!0)&&((s=o.options.enableFilters)!=null?s:!0)&&((l=o.options.getColumnCanGlobalFilter==null?void 0:o.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>te.includesString,e.getGlobalFilterFn=()=>{var o,t;const{globalFilterFn:n}=e.options;return ze(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(o=(t=e.options.filterFns)==null?void 0:t[n])!=null?o:te[n]},e.setGlobalFilter=o=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(o)},e.resetGlobalFilter=o=>{e.setGlobalFilter(o?void 0:e.initialState.globalFilter)}}},Ro={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:K("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let o=!1,t=!1;e._autoResetExpanded=()=>{var n,s;if(!o){e._queue(()=>{o=!0});return}if((n=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var s,l;e.setExpanded(n?{}:(s=(l=e.initialState)==null?void 0:l.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(l=>{const r=l.split(".");n=Math.max(n,r.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,o)=>{e.toggleExpanded=t=>{o.setExpanded(n=>{var s;const l=n===!0?!0:!!(n!=null&&n[e.id]);let r={};if(n===!0?Object.keys(o.getRowModel().rowsById).forEach(a=>{r[a]=!0}):r=n,t=(s=t)!=null?s:!l,!l&&t)return{...r,[e.id]:!0};if(l&&!t){const{[e.id]:a,...u}=r;return u}return n})},e.getIsExpanded=()=>{var t;const n=o.getState().expanded;return!!((t=o.options.getIsRowExpanded==null?void 0:o.options.getIsRowExpanded(e))!=null?t:n===!0||n?.[e.id])},e.getCanExpand=()=>{var t,n,s;return(t=o.options.getRowCanExpand==null?void 0:o.options.getRowCanExpand(e))!=null?t:((n=o.options.enableExpanding)!=null?n:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let t=!0,n=e;for(;t&&n.parentId;)n=o.getRow(n.parentId,!0),t=n.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Xe=0,We=10,qe=()=>({pageIndex:Xe,pageSize:We}),yo={getInitialState:e=>({...e,pagination:{...qe(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:K("pagination",e)}),createTable:e=>{let o=!1,t=!1;e._autoResetPageIndex=()=>{var n,s;if(!o){e._queue(()=>{o=!0});return}if((n=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=n=>{const s=l=>le(n,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=n=>{var s;e.setPagination(n?qe():(s=e.initialState.pagination)!=null?s:qe())},e.setPageIndex=n=>{e.setPagination(s=>{let l=le(n,s.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,r)),{...s,pageIndex:l}})},e.resetPageIndex=n=>{var s,l;e.setPageIndex(n?Xe:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?s:Xe)},e.resetPageSize=n=>{var s,l;e.setPageSize(n?We:(s=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?s:We)},e.setPageSize=n=>{e.setPagination(s=>{const l=Math.max(1,le(n,s.pageSize)),r=s.pageSize*s.pageIndex,a=Math.floor(r/l);return{...s,pageIndex:a,pageSize:l}})},e.setPageCount=n=>e.setPagination(s=>{var l;let r=le(n,(l=e.options.pageCount)!=null?l:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...s,pageCount:r}}),e.getPageOptions=$(()=>[e.getPageCount()],n=>{let s=[];return n&&n>0&&(s=[...new Array(n)].fill(null).map((l,r)=>r)),s},F(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:n<s-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},Te=()=>({top:[],bottom:[]}),$o={getInitialState:e=>({rowPinning:Te(),...e}),getDefaultOptions:e=>({onRowPinningChange:K("rowPinning",e)}),createRow:(e,o)=>{e.pin=(t,n,s)=>{const l=n?e.getLeafRows().map(u=>{let{id:g}=u;return g}):[],r=s?e.getParentRows().map(u=>{let{id:g}=u;return g}):[],a=new Set([...r,e.id,...l]);o.setRowPinning(u=>{var g,f;if(t==="bottom"){var _,c;return{top:((_=u?.top)!=null?_:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((c=u?.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(t==="top"){var d,w;return{top:[...((d=u?.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((w=u?.bottom)!=null?w:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((g=u?.top)!=null?g:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((f=u?.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:n,enablePinning:s}=o.options;return typeof n=="function"?n(e):(t=n??s)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:n,bottom:s}=o.getState().rowPinning,l=t.some(a=>n?.includes(a)),r=t.some(a=>s?.includes(a));return l?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,n;const s=e.getIsPinned();if(!s)return-1;const l=(t=s==="top"?o.getTopRows():o.getBottomRows())==null?void 0:t.map(r=>{let{id:a}=r;return a});return(n=l?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=o=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(o),e.resetRowPinning=o=>{var t,n;return e.setRowPinning(o?Te():(t=(n=e.initialState)==null?void 0:n.rowPinning)!=null?t:Te())},e.getIsSomeRowsPinned=o=>{var t;const n=e.getState().rowPinning;if(!o){var s,l;return!!((s=n.top)!=null&&s.length||(l=n.bottom)!=null&&l.length)}return!!((t=n[o])!=null&&t.length)},e._getPinnedRows=(o,t,n)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(t??[]).map(r=>{const a=e.getRow(r,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(r=>o.find(a=>a.id===r))).filter(Boolean).map(r=>({...r,position:n}))},e.getTopRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(o,t)=>e._getPinnedRows(o,t,"top"),F(e.options,"debugRows")),e.getBottomRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(o,t)=>e._getPinnedRows(o,t,"bottom"),F(e.options,"debugRows")),e.getCenterRows=$(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(o,t,n)=>{const s=new Set([...t??[],...n??[]]);return o.filter(l=>!s.has(l.id))},F(e.options,"debugRows"))}},Fo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:K("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=o=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(o),e.resetRowSelection=o=>{var t;return e.setRowSelection(o?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=o=>{e.setRowSelection(t=>{o=typeof o<"u"?o:!e.getIsAllRowsSelected();const n={...t},s=e.getPreGroupedRowModel().flatRows;return o?s.forEach(l=>{l.getCanSelect()&&(n[l.id]=!0)}):s.forEach(l=>{delete n[l.id]}),n})},e.toggleAllPageRowsSelected=o=>e.setRowSelection(t=>{const n=typeof o<"u"?o:!e.getIsAllPageRowsSelected(),s={...t};return e.getRowModel().rows.forEach(l=>{Je(s,l.id,n,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=$(()=>[e.getState().rowSelection,e.getCoreRowModel()],(o,t)=>Object.keys(o).length?Ue(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getFilteredSelectedRowModel=$(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(o,t)=>Object.keys(o).length?Ue(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getGroupedSelectedRowModel=$(()=>[e.getState().rowSelection,e.getSortedRowModel()],(o,t)=>Object.keys(o).length?Ue(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const o=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let n=!!(o.length&&Object.keys(t).length);return n&&o.some(s=>s.getCanSelect()&&!t[s.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:t}=e.getState();let n=!!o.length;return n&&o.some(s=>!t[s.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var o;const t=Object.keys((o=e.getState().rowSelection)!=null?o:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:o.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>o=>{e.toggleAllRowsSelected(o.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>o=>{e.toggleAllPageRowsSelected(o.target.checked)}},createRow:(e,o)=>{e.toggleSelected=(t,n)=>{const s=e.getIsSelected();o.setRowSelection(l=>{var r;if(t=typeof t<"u"?t:!s,e.getCanSelect()&&s===t)return l;const a={...l};return Je(a,e.id,t,(r=n?.selectChildren)!=null?r:!0,o),a})},e.getIsSelected=()=>{const{rowSelection:t}=o.getState();return it(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=o.getState();return Qe(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=o.getState();return Qe(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof o.options.enableRowSelection=="function"?o.options.enableRowSelection(e):(t=o.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof o.options.enableSubRowSelection=="function"?o.options.enableSubRowSelection(e):(t=o.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof o.options.enableMultiRowSelection=="function"?o.options.enableMultiRowSelection(e):(t=o.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var s;t&&e.toggleSelected((s=n.target)==null?void 0:s.checked)}}}},Je=(e,o,t,n,s)=>{var l;const r=s.getRow(o,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),r.getCanSelect()&&(e[o]=!0)):delete e[o],n&&(l=r.subRows)!=null&&l.length&&r.getCanSelectSubRows()&&r.subRows.forEach(a=>Je(e,a.id,t,n,s))};function Ue(e,o){const t=e.getState().rowSelection,n=[],s={},l=function(r,a){return r.map(u=>{var g;const f=it(u,t);if(f&&(n.push(u),s[u.id]=u),(g=u.subRows)!=null&&g.length&&(u={...u,subRows:l(u.subRows)}),f)return u}).filter(Boolean)};return{rows:l(o.rows),flatRows:n,rowsById:s}}function it(e,o){var t;return(t=o[e.id])!=null?t:!1}function Qe(e,o,t){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let s=!0,l=!1;return e.subRows.forEach(r=>{if(!(l&&!s)&&(r.getCanSelect()&&(it(r,o)?l=!0:s=!1),r.subRows&&r.subRows.length)){const a=Qe(r,o);a==="all"?l=!0:(a==="some"&&(l=!0),s=!1)}}),s?"all":l?"some":!1}const Ze=/([0-9]+)/gm,Vo=(e,o,t)=>zt(re(e.getValue(t)).toLowerCase(),re(o.getValue(t)).toLowerCase()),Io=(e,o,t)=>zt(re(e.getValue(t)),re(o.getValue(t))),Mo=(e,o,t)=>at(re(e.getValue(t)).toLowerCase(),re(o.getValue(t)).toLowerCase()),Do=(e,o,t)=>at(re(e.getValue(t)),re(o.getValue(t))),Po=(e,o,t)=>{const n=e.getValue(t),s=o.getValue(t);return n>s?1:n<s?-1:0},Eo=(e,o,t)=>at(e.getValue(t),o.getValue(t));function at(e,o){return e===o?0:e>o?1:-1}function re(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function zt(e,o){const t=e.split(Ze).filter(Boolean),n=o.split(Ze).filter(Boolean);for(;t.length&&n.length;){const s=t.shift(),l=n.shift(),r=parseInt(s,10),a=parseInt(l,10),u=[r,a].sort();if(isNaN(u[0])){if(s>l)return 1;if(l>s)return-1;continue}if(isNaN(u[1]))return isNaN(r)?-1:1;if(r>a)return 1;if(a>r)return-1}return t.length-n.length}const ge={alphanumeric:Vo,alphanumericCaseSensitive:Io,text:Mo,textCaseSensitive:Do,datetime:Po,basic:Eo},ko={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:K("sorting",e),isMultiSortEvent:o=>o.shiftKey}),createColumn:(e,o)=>{e.getAutoSortingFn=()=>{const t=o.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const s of t){const l=s?.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return ge.datetime;if(typeof l=="string"&&(n=!0,l.split(Ze).length>1))return ge.alphanumeric}return n?ge.text:ge.basic},e.getAutoSortDir=()=>{const t=o.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,n;if(!e)throw new Error;return ze(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(n=o.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?t:ge[e.columnDef.sortingFn]},e.toggleSorting=(t,n)=>{const s=e.getNextSortingOrder(),l=typeof t<"u"&&t!==null;o.setSorting(r=>{const a=r?.find(d=>d.id===e.id),u=r?.findIndex(d=>d.id===e.id);let g=[],f,_=l?t:s==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&n?a?f="toggle":f="add":r!=null&&r.length&&u!==r.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(l||s||(f="remove")),f==="add"){var c;g=[...r,{id:e.id,desc:_}],g.splice(0,g.length-((c=o.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else f==="toggle"?g=r.map(d=>d.id===e.id?{...d,desc:_}:d):f==="remove"?g=r.filter(d=>d.id!==e.id):g=[{id:e.id,desc:_}];return g})},e.getFirstSortDir=()=>{var t,n;return((t=(n=e.columnDef.sortDescFirst)!=null?n:o.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var n,s;const l=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==l&&((n=o.options.enableSortingRemoval)==null||n)&&(!(t&&(s=o.options.enableMultiRemove)!=null)||s)?!1:r==="desc"?"asc":"desc":l},e.getCanSort=()=>{var t,n;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((n=o.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,n;return(t=(n=e.columnDef.enableMultiSort)!=null?n:o.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const n=(t=o.getState().sorting)==null?void 0:t.find(s=>s.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,n;return(t=(n=o.getState().sorting)==null?void 0:n.findIndex(s=>s.id===e.id))!=null?t:-1},e.clearSorting=()=>{o.setSorting(t=>t!=null&&t.length?t.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return n=>{t&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?o.options.isMultiSortEvent==null?void 0:o.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=o=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(o),e.resetSorting=o=>{var t,n;e.setSorting(o?[]:(t=(n=e.initialState)==null?void 0:n.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},bo=[eo,ho,mo,vo,to,no,Co,xo,ko,fo,Ro,yo,$o,Fo,wo];function Ao(e){var o,t;const n=[...bo,...(o=e._features)!=null?o:[]];let s={_features:n};const l=s._features.reduce((c,d)=>Object.assign(c,d.getDefaultOptions==null?void 0:d.getDefaultOptions(s)),{}),r=c=>s.options.mergeOptions?s.options.mergeOptions(l,c):{...l,...c};let u={...{},...(t=e.initialState)!=null?t:{}};s._features.forEach(c=>{var d;u=(d=c.getInitialState==null?void 0:c.getInitialState(u))!=null?d:u});const g=[];let f=!1;const _={_features:n,options:{...l,...e},initialState:u,_queue:c=>{g.push(c),f||(f=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();f=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{s.setState(s.initialState)},setOptions:c=>{const d=le(c,s.options);s.options=r(d)},getState:()=>s.options.state,setState:c=>{s.options.onStateChange==null||s.options.onStateChange(c)},_getRowId:(c,d,w)=>{var m;return(m=s.options.getRowId==null?void 0:s.options.getRowId(c,d,w))!=null?m:`${w?[w.id,d].join("."):d}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(c,d)=>{let w=(d?s.getPrePaginationRowModel():s.getRowModel()).rowsById[c];if(!w&&(w=s.getCoreRowModel().rowsById[c],!w))throw new Error;return w},_getDefaultColumnDef:$(()=>[s.options.defaultColumn],c=>{var d;return c=(d=c)!=null?d:{},{header:w=>{const m=w.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:w=>{var m,S;return(m=(S=w.renderValue())==null||S.toString==null?void 0:S.toString())!=null?m:null},...s._features.reduce((w,m)=>Object.assign(w,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...c}},F(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:$(()=>[s._getColumnDefs()],c=>{const d=function(w,m,S){return S===void 0&&(S=0),w.map(R=>{const b=Zn(s,R,S,m),k=R;return b.columns=k.columns?d(k.columns,b,S+1):[],b})};return d(c)},F(e,"debugColumns")),getAllFlatColumns:$(()=>[s.getAllColumns()],c=>c.flatMap(d=>d.getFlatColumns()),F(e,"debugColumns")),_getAllFlatColumnsById:$(()=>[s.getAllFlatColumns()],c=>c.reduce((d,w)=>(d[w.id]=w,d),{}),F(e,"debugColumns")),getAllLeafColumns:$(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(c,d)=>{let w=c.flatMap(m=>m.getLeafColumns());return d(w)},F(e,"debugColumns")),getColumn:c=>s._getAllFlatColumnsById()[c]};Object.assign(s,_);for(let c=0;c<s._features.length;c++){const d=s._features[c];d==null||d.createTable==null||d.createTable(s)}return s}function zo(){return e=>$(()=>[e.options.data],o=>{const t={rows:[],flatRows:[],rowsById:{}},n=function(s,l,r){l===void 0&&(l=0);const a=[];for(let g=0;g<s.length;g++){const f=lt(e,e._getRowId(s[g],g,r),s[g],g,l,void 0,r?.id);if(t.flatRows.push(f),t.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var u;f.originalSubRows=e.options.getSubRows(s[g],g),(u=f.originalSubRows)!=null&&u.length&&(f.subRows=n(f.originalSubRows,l+1,f))}}return a};return t.rows=n(o),t},F(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Go(e){const o=[],t=n=>{var s;o.push(n),(s=n.subRows)!=null&&s.length&&n.getIsExpanded()&&n.subRows.forEach(t)};return e.rows.forEach(t),{rows:o,flatRows:e.flatRows,rowsById:e.rowsById}}function Lo(e,o,t){return t.options.filterFromLeafRows?Oo(e,o,t):Ho(e,o,t)}function Oo(e,o,t){var n;const s=[],l={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,g){g===void 0&&(g=0);const f=[];for(let c=0;c<u.length;c++){var _;let d=u[c];const w=lt(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(w.columnFilters=d.columnFilters,(_=d.subRows)!=null&&_.length&&g<r){if(w.subRows=a(d.subRows,g+1),d=w,o(d)&&!w.subRows.length){f.push(d),l[d.id]=d,s.push(d);continue}if(o(d)||w.subRows.length){f.push(d),l[d.id]=d,s.push(d);continue}}else d=w,o(d)&&(f.push(d),l[d.id]=d,s.push(d))}return f};return{rows:a(e),flatRows:s,rowsById:l}}function Ho(e,o,t){var n;const s=[],l={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,g){g===void 0&&(g=0);const f=[];for(let c=0;c<u.length;c++){let d=u[c];if(o(d)){var _;if((_=d.subRows)!=null&&_.length&&g<r){const m=lt(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);m.subRows=a(d.subRows,g+1),d=m}f.push(d),s.push(d),l[d.id]=d}}return f};return{rows:a(e),flatRows:s,rowsById:l}}function Bo(){return e=>$(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(o,t,n)=>{if(!o.rows.length||!(t!=null&&t.length)&&!n){for(let c=0;c<o.flatRows.length;c++)o.flatRows[c].columnFilters={},o.flatRows[c].columnFiltersMeta={};return o}const s=[],l=[];(t??[]).forEach(c=>{var d;const w=e.getColumn(c.id);if(!w)return;const m=w.getFilterFn();m&&s.push({id:c.id,filterFn:m,resolvedValue:(d=m.resolveFilterValue==null?void 0:m.resolveFilterValue(c.value))!=null?d:c.value})});const r=(t??[]).map(c=>c.id),a=e.getGlobalFilterFn(),u=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());n&&a&&u.length&&(r.push("__global__"),u.forEach(c=>{var d;l.push({id:c.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(n))!=null?d:n})}));let g,f;for(let c=0;c<o.flatRows.length;c++){const d=o.flatRows[c];if(d.columnFilters={},s.length)for(let w=0;w<s.length;w++){g=s[w];const m=g.id;d.columnFilters[m]=g.filterFn(d,m,g.resolvedValue,S=>{d.columnFiltersMeta[m]=S})}if(l.length){for(let w=0;w<l.length;w++){f=l[w];const m=f.id;if(f.filterFn(d,m,f.resolvedValue,S=>{d.columnFiltersMeta[m]=S})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const _=c=>{for(let d=0;d<r.length;d++)if(c.columnFilters[r[d]]===!1)return!1;return!0};return Lo(o.rows,_,e)},F(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function No(e){return o=>$(()=>[o.getState().pagination,o.getPrePaginationRowModel(),o.options.paginateExpandedRows?void 0:o.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:s,pageIndex:l}=t;let{rows:r,flatRows:a,rowsById:u}=n;const g=s*l,f=g+s;r=r.slice(g,f);let _;o.options.paginateExpandedRows?_={rows:r,flatRows:a,rowsById:u}:_=Go({rows:r,flatRows:a,rowsById:u}),_.flatRows=[];const c=d=>{_.flatRows.push(d),d.subRows.length&&d.subRows.forEach(c)};return _.rows.forEach(c),_},F(o.options,"debugTable"))}function qo(){return e=>$(()=>[e.getState().sorting,e.getPreSortedRowModel()],(o,t)=>{if(!t.rows.length||!(o!=null&&o.length))return t;const n=e.getState().sorting,s=[],l=n.filter(u=>{var g;return(g=e.getColumn(u.id))==null?void 0:g.getCanSort()}),r={};l.forEach(u=>{const g=e.getColumn(u.id);g&&(r[u.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const a=u=>{const g=u.map(f=>({...f}));return g.sort((f,_)=>{for(let d=0;d<l.length;d+=1){var c;const w=l[d],m=r[w.id],S=m.sortUndefined,R=(c=w?.desc)!=null?c:!1;let b=0;if(S){const k=f.getValue(w.id),D=_.getValue(w.id),y=k===void 0,x=D===void 0;if(y||x){if(S==="first")return y?-1:1;if(S==="last")return y?1:-1;b=y&&x?0:y?S:-S}}if(b===0&&(b=m.sortingFn(f,_,w.id)),b!==0)return R&&(b*=-1),m.invertSorting&&(b*=-1),b}return f.index-_.index}),g.forEach(f=>{var _;s.push(f),(_=f.subRows)!=null&&_.length&&(f.subRows=a(f.subRows))}),g};return{rows:a(t.rows),flatRows:s,rowsById:t.rowsById}},F(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Pe(){return!0}const To=Symbol("merge-proxy"),Uo={get(e,o,t){return o===To?t:e.get(o)},has(e,o){return e.has(o)},set:Pe,deleteProperty:Pe,getOwnPropertyDescriptor(e,o){return{configurable:!0,enumerable:!0,get(){return e.get(o)},set:Pe,deleteProperty:Pe}},ownKeys(e){return e.keys()}};function je(e){return"value"in e?e.value:e}function ce(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return new Proxy({get(n){for(let s=o.length-1;s>=0;s--){const l=je(o[s])[n];if(l!==void 0)return l}},has(n){for(let s=o.length-1;s>=0;s--)if(n in je(o[s]))return!0;return!1},keys(){const n=[];for(let s=0;s<o.length;s++)n.push(...Object.keys(je(o[s])));return[...Array.from(new Set(n))]}},Uo)}const pt=X({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?G(e.render,e.props):e.render});function mt(e){return ce(e,{data:i(e.data)})}function jo(e){const o=Nt(e.data),t=ce({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(l,r){return o?{...l,...r}:ce(l,r)}},o?mt(e):e),n=Ao(t);if(o){const l=qt(e.data);ve(l,()=>{n.setState(r=>({...r,data:l.value}))},{immediate:!0})}const s=N(n.initialState);return Tt(()=>{n.setOptions(l=>{var r;const a=new Proxy({},{get:(u,g)=>s.value[g]});return ce(l,o?mt(e):e,{state:ce(a,(r=e.state)!=null?r:{}),onStateChange:u=>{u instanceof Function?s.value=u(s.value):s.value=u,e.onStateChange==null||e.onStateChange(u)}})})}),n}const Yo={class:"flex flex-col border-b border-border/10 last:border-0 hover:bg-muted/5 transition-colors"},Ko={class:"flex items-center gap-3 flex-1 min-w-0"},Xo={class:"truncate flex-1"},Wo={class:"font-medium truncate text-sm leading-tight"},Jo={class:"flex items-center text-[10px] text-muted-foreground gap-1.5 mt-0.5"},Qo={key:0,class:"text-amber-500 font-medium flex items-center gap-1"},Zo={key:1,class:"truncate"},es={class:"text-right shrink-0"},ts={class:"font-bold text-sm"},ns=X({__name:"ExpenseCard",props:{expense:{}},emits:["edit","delete"],setup(e,{emit:o}){const t=e,n=j(()=>new Date(t.expense.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),s=j(()=>{const l=parseFloat(t.expense.amount);return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(l)});return(l,r)=>(I(),q("div",Yo,[h("div",{class:"p-3 flex items-center justify-between gap-3",onClick:r[0]||(r[0]=a=>l.$emit("edit",l.expense))},[h("div",Ko,[h("div",{class:"w-2 h-2 rounded-full shrink-0",style:et({backgroundColor:l.expense.category?.color||"#6B7280"})},null,4),h("div",Xo,[h("h3",Wo,O(l.expense.description),1),h("div",Jo,[h("span",null,O(n.value),1),r[1]||(r[1]=h("span",{class:"w-0.5 h-0.5 rounded-full bg-muted-foreground/40"},null,-1)),l.expense.isOffline?(I(),q("span",Qo," Offline ")):(I(),q("span",Zo,O(l.expense.category?.name||"Uncategorized"),1))])])]),h("div",es,[h("div",ts,O(s.value),1)])])]))}}),os={class:"w-full"},ss={class:"hidden md:flex flex-col gap-4 py-4 md:flex-row md:items-center"},ls={class:"flex items-center gap-4 md:flex-1"},rs={class:"w-full md:max-w-sm"},is={key:0,class:"flex items-center justify-between p-4 bg-muted/50 border rounded-lg mb-4"},as={class:"flex items-center gap-2"},us={class:"text-sm font-medium"},ds={class:"flex items-center gap-2"},gs={class:"md:hidden flex flex-col gap-4"},cs={class:"flex items-center justify-between bg-card/50 backdrop-blur-xl border border-border/50 rounded-xl p-2 px-3"},fs={class:"font-medium text-sm"},ps={class:"flex gap-2 overflow-x-auto pb-1 no-scrollbar overflow-y-hidden"},ms={class:"bg-card/80 backdrop-blur-xl border border-border/50 rounded-2xl p-5 shadow-sm"},vs={class:"flex flex-col items-center text-center gap-1"},_s={class:"text-xs text-muted-foreground uppercase tracking-wider"},ws={class:"text-3xl font-bold tracking-tight mt-1"},Ss={class:"text-xs text-muted-foreground font-medium bg-muted/50 px-2 py-0.5 rounded-full mt-2"},hs={class:"flex flex-col pb-24"},Cs={class:"bg-card/30 backdrop-blur-sm rounded-xl border border-border/30 overflow-hidden divide-y divide-border/10"},xs={key:0,class:"text-center py-12 text-muted-foreground"},Rs={class:"rounded-md border hidden md:block"},ys={class:"flex items-center"},$s={class:"font-bold text-primary"},Fs={class:"font-bold text-lg text-primary"},Vs={class:"flex items-center justify-end space-x-2 py-4"},Is={class:"flex-1 text-sm text-muted-foreground"},Ms={class:"space-x-2"},Ds=X({__name:"ExpenseDataTable",props:{columns:{},data:{}},emits:["bulkDelete","bulkExport"],setup(e,{emit:o}){const t=e,n=N([]),s=N([]),l=N({}),r=N({}),a=N(""),u=j(()=>{if(!a.value||a.value==="all")return"All Time";const[y,x]=a.value.split("-").map(Number);return new Date(y,x-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),g=y=>{if(!a.value||a.value==="all"){const J=new Date,se=new Date(J.getFullYear(),J.getMonth()+y,1);a.value=`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`;return}const[x,M]=a.value.split("-").map(Number),A=new Date(x,M-1,1);A.setMonth(A.getMonth()+y),a.value=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}`},f=j(()=>{const y=new Date().getFullYear(),x=[];for(let M=0;M<12;M++){const A=new Date(y,M,1),J=`${y}-${String(M+1).padStart(2,"0")}`,se=A.toLocaleDateString("en-US",{month:"long",year:"numeric"});x.push({value:J,label:se})}return[{value:"all",label:"All Months"},...x]});St(()=>{const y=new Date,x=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}`;a.value=x});const _=j(()=>!a.value||a.value==="all"?t.data:t.data.filter(y=>{const x=new Date(y.date);return`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}`===a.value})),c=y=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(y),d=j(()=>{const y=D.getFilteredRowModel().rows,x=y.reduce((M,A)=>{const J=parseFloat(A.original.amount||"0");return M+J},0);return{count:y.length,total:c(x)}}),w=j(()=>D.getFilteredSelectedRowModel().rows.length),m=j(()=>D.getFilteredSelectedRowModel().rows.map(y=>y.original)),S=o,R=()=>{m.value.length>0&&S("bulkDelete",m.value)},b=()=>{m.value.length>0&&S("bulkExport",m.value)},k=()=>{D.resetRowSelection()},D=jo({get data(){return _.value},get columns(){return t.columns},getCoreRowModel:zo(),getPaginationRowModel:No(),getSortedRowModel:qo(),getFilteredRowModel:Bo(),onSortingChange:y=>Fe(y,n),onColumnFiltersChange:y=>Fe(y,s),onColumnVisibilityChange:y=>Fe(y,l),onRowSelectionChange:y=>Fe(y,r),state:{get sorting(){return n.value},get columnFilters(){return s.value},get columnVisibility(){return l.value},get rowSelection(){return r.value}}});return(y,x)=>(I(),q("div",os,[h("div",ss,[h("div",ls,[p(i(tt),{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=M=>a.value=M)},{default:v(()=>[p(i(nt),{class:"w-[200px] md:w-[180px]"},{default:v(()=>[p(i(Wt),{class:"mr-2 h-4 w-4"}),p(i(ot),{placeholder:"Select month"})]),_:1}),p(i(st),null,{default:v(()=>[(I(!0),q(Q,null,ee(f.value,M=>(I(),H(i(ke),{key:M.value,value:M.value},{default:v(()=>[V(O(M.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),p(i(Rt),null,{default:v(()=>[p(i(yt),{"as-child":""},{default:v(()=>[p(i(L),{variant:"outline",class:"md:ml-auto"},{default:v(()=>[x[8]||(x[8]=V(" Columns ",-1)),p(i(Jt),{class:"ml-2 h-4 w-4"})]),_:1,__:[8]})]),_:1}),p(i($t),{align:"end"},{default:v(()=>[(I(!0),q(Q,null,ee(i(D).getAllColumns().filter(M=>M.getCanHide()),M=>(I(),H(i(An),{key:M.id,class:"capitalize","model-value":M.getIsVisible(),"onUpdate:modelValue":A=>{M.toggleVisibility(!!A)}},{default:v(()=>[V(O(M.id),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1})]),h("div",rs,[p(i(de),{class:"w-full",placeholder:"Filter by description...","model-value":String(i(D).getColumn("description")?.getFilterValue()??""),"onUpdate:modelValue":x[1]||(x[1]=M=>i(D).getColumn("description")?.setFilterValue(M))},null,8,["model-value"])])]),w.value>0?(I(),q("div",is,[h("div",as,[h("span",us,O(w.value)+" expense(s) selected",1),p(i(L),{variant:"ghost",size:"sm",onClick:k},{default:v(()=>[p(i(Qt),{class:"h-4 w-4 mr-1"}),x[9]||(x[9]=V(" Clear ",-1))]),_:1,__:[9]})]),h("div",ds,[p(i(L),{variant:"outline",size:"sm",onClick:b},{default:v(()=>[p(i(Pn),{class:"h-4 w-4 mr-1"}),x[10]||(x[10]=V(" Export Selected ",-1))]),_:1,__:[10]}),p(i(L),{variant:"destructive",size:"sm",onClick:R},{default:v(()=>[p(i(hn),{class:"h-4 w-4 mr-1"}),x[11]||(x[11]=V(" Delete Selected ",-1))]),_:1,__:[11]})])])):Y("",!0),h("div",gs,[h("div",cs,[p(i(L),{variant:"ghost",size:"icon",class:"h-8 w-8 hover:bg-muted/20",onClick:x[2]||(x[2]=M=>g(-1))},{default:v(()=>[p(i(Zt),{class:"h-4 w-4"})]),_:1}),h("span",fs,O(u.value),1),p(i(L),{variant:"ghost",size:"icon",class:"h-8 w-8 hover:bg-muted/20",onClick:x[3]||(x[3]=M=>g(1))},{default:v(()=>[p(i(en),{class:"h-4 w-4"})]),_:1})]),h("div",ps,[p(i(L),{variant:"outline",size:"sm",class:Ut(["h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50",{"bg-secondary/50 text-foreground border-border":!1}])},{default:v(()=>x[12]||(x[12]=[V(" All ",-1)])),_:1,__:[12]}),p(i(L),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-medium border-primary/20 bg-primary/10 text-primary hover:bg-primary/20"},{default:v(()=>x[13]||(x[13]=[V(" This Month ",-1)])),_:1,__:[13]}),p(i(L),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50"},{default:v(()=>x[14]||(x[14]=[V(" Today ",-1)])),_:1,__:[14]}),p(i(L),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50"},{default:v(()=>x[15]||(x[15]=[V(" Pick ",-1)])),_:1,__:[15]})]),h("div",ms,[h("div",vs,[h("span",_s,"Total ("+O(u.value)+")",1),h("span",ws,O(d.value.total),1),h("span",Ss,O(d.value.count)+" transactions ",1)])]),h("div",hs,[x[17]||(x[17]=h("h3",{class:"text-sm font-semibold mb-2 px-1"},"Recent Expenses",-1)),h("div",Cs,[i(D).getRowModel().rows?.length?Y("",!0):(I(),q("div",xs,x[16]||(x[16]=[h("div",{class:"w-12 h-12 mx-auto mb-4 rounded-full bg-muted/50 flex items-center justify-center"},[h("span",{class:"text-muted-foreground text-xl"},"ðŸ“")],-1),h("h3",{class:"text-sm font-medium text-foreground mb-1"},"No expenses yet",-1),h("p",{class:"text-xs text-muted-foreground"},"Add your first expense!",-1)]))),(I(!0),q(Q,null,ee(i(D).getRowModel().rows,M=>(I(),H(ns,{key:M.id,expense:M.original,onEdit:x[4]||(x[4]=A=>y.document.dispatchEvent(new y.CustomEvent("editExpense",{detail:A}))),onDelete:x[5]||(x[5]=A=>y.document.dispatchEvent(new y.CustomEvent("deleteExpense",{detail:A})))},null,8,["expense"]))),128))])])]),h("div",Rs,[p(i(vn),null,{default:v(()=>[p(i(_n),null,{default:v(()=>[(I(!0),q(Q,null,ee(i(D).getHeaderGroups(),M=>(I(),H(i(Ve),{key:M.id},{default:v(()=>[(I(!0),q(Q,null,ee(M.headers,A=>(I(),H(i(Sn),{key:A.id},{default:v(()=>[A.isPlaceholder?Y("",!0):(I(),H(i(pt),{key:0,render:A.column.columnDef.header,props:A.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),p(i(wn),null,{default:v(()=>[i(D).getRowModel().rows?.length?(I(!0),q(Q,{key:0},ee(i(D).getRowModel().rows,M=>(I(),H(i(Ve),{key:M.id,"data-state":M.getIsSelected()&&"selected",class:"hover:bg-muted/20 transition-colors duration-200"},{default:v(()=>[(I(!0),q(Q,null,ee(M.getVisibleCells(),A=>(I(),H(i(ue),{key:A.id},{default:v(()=>[p(i(pt),{render:A.column.columnDef.cell,props:A.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(I(),H(i(Ve),{key:1},{default:v(()=>[p(i(ue),{colspan:y.columns.length,class:"h-24 text-center"},{default:v(()=>x[18]||(x[18]=[h("div",{class:"flex flex-col items-center justify-center py-12"},[h("div",{class:"w-12 h-12 mb-4 rounded-full bg-muted flex items-center justify-center"},[h("span",{class:"text-muted-foreground"},"ðŸ“")]),h("h3",{class:"text-sm font-medium text-foreground mb-1"},"No expenses yet"),h("p",{class:"text-sm text-muted-foreground"},"Add your first expense to get started!")],-1)])),_:1,__:[18]},8,["colspan"])]),_:1})),i(D).getRowModel().rows?.length?(I(),H(i(Ve),{key:2,class:"border-t-2 border-primary/20 bg-muted/10 hover:bg-muted/20 font-semibold"},{default:v(()=>[p(i(ue),{class:"py-4"}),p(i(ue),{class:"py-4"},{default:v(()=>[h("div",ys,[x[19]||(x[19]=h("div",{class:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center mr-3"},[h("span",{class:"text-xs font-bold text-primary"},"Î£")],-1)),h("div",$s,"Total ("+O(d.value.count)+" expenses)",1)])]),_:1}),p(i(ue),{class:"py-4"},{default:v(()=>[h("div",Fs,O(d.value.total),1)]),_:1}),p(i(ue),{class:"py-4"}),p(i(ue),{class:"py-4"})]),_:1})):Y("",!0)]),_:1})]),_:1})]),h("div",Vs,[h("div",Is,O(i(D).getFilteredSelectedRowModel().rows.length)+" of "+O(i(D).getFilteredRowModel().rows.length)+" row(s) selected. ",1),h("div",Ms,[p(i(L),{variant:"outline",size:"sm",disabled:!i(D).getCanPreviousPage(),onClick:x[6]||(x[6]=M=>i(D).previousPage())},{default:v(()=>x[20]||(x[20]=[V(" Previous ",-1)])),_:1,__:[20]},8,["disabled"]),p(i(L),{variant:"outline",size:"sm",disabled:!i(D).getCanNextPage(),onClick:x[7]||(x[7]=M=>i(D).nextPage())},{default:v(()=>x[21]||(x[21]=[V(" Next ",-1)])),_:1,__:[21]},8,["disabled"])])])]))}}),Ps=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),Es=e=>{const o=parseFloat(e);return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(o)},ks=[{id:"select",header:({table:e})=>G(gt,{modelValue:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:modelValue":o=>e.toggleAllPageRowsSelected(!!o),ariaLabel:"Select all"}),cell:({row:e})=>G(gt,{modelValue:e.getIsSelected(),"onUpdate:modelValue":o=>e.toggleSelected(!!o),ariaLabel:"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"description",header:({column:e})=>G(L,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Description",G(Le,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>G("div",{class:"flex items-center"},[G("div",{class:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-3"},G("span",{class:"text-xs font-medium text-primary"},"â‚¦")),G("div",{class:"font-medium"},e.getValue("description"))])},{accessorKey:"amount",header:({column:e})=>G(L,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Amount",G(Le,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>{const o=e.getValue("amount");return G("div",{class:"font-semibold text-foreground"},Es(o))}},{accessorKey:"category",header:"Category",cell:({row:e})=>{const o=e.original.category;return o?G("div",{class:"flex items-center gap-2"},[G("div",{class:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),G("span",{class:"text-sm"},o.name)]):G("div",{class:"text-muted-foreground text-sm"},"Uncategorized")}},{accessorKey:"date",header:({column:e})=>G(L,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Date",G(Le,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>{const o=e.getValue("date");return G("div",{class:"text-muted-foreground"},Ps(o))}},{id:"actions",enableHiding:!1,cell:({row:e})=>{const o=e.original;return G("div",{class:"relative"},G(Rt,{},{default:()=>[G(yt,{asChild:!0},{default:()=>G(L,{variant:"ghost",class:"h-8 w-8 p-0"},{default:()=>[G("span",{class:"sr-only"},"Open menu"),G(En,{class:"h-4 w-4"})]})}),G($t,{align:"end"},{default:()=>[G(dt,{onClick:()=>{const t=new CustomEvent("editExpense",{detail:o});document.dispatchEvent(t)},class:"cursor-pointer"},()=>"Edit"),G(dt,{onClick:()=>{const t=new CustomEvent("deleteExpense",{detail:o});document.dispatchEvent(t)},class:"cursor-pointer text-destructive focus:text-destructive"},()=>"Delete")]})]}))}}],bs={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},As={class:"flex items-center justify-between"},zs={class:"flex items-center gap-2"},Gs={class:"space-y-2"},Ls={class:"space-y-2"},Os={class:"space-y-2"},Hs={class:"flex items-center gap-2"},Bs={class:"space-y-2"},Ns={class:"space-y-2"},sl=X({__name:"Expense",props:{expenses:{},categories:{}},setup(e){const o=e,t=ut(),n=[{title:"Expenses",href:"/expense"}],s=Ee({description:"",amount:"",date:new Date().toISOString().split("T")[0],category_id:null}),l=Ee({csv_file:null}),r=N(null),a=N(fe(pe()));s.date=a.value.toString(),ve(a,P=>{P&&(s.date=P.toString())});const u=N(!1),g=N(!1),f=N(!1),_=N(!1),c=N(!1),d=N(null),w=N([]),{isOnline:m}=be(),{initDB:S,initNetworkSync:R,createExpenseOffline:b,deleteExpenseOffline:k,bulkDeleteExpensesOffline:D,isInitialized:y,expenses:x}=xt(),M=j(()=>{const P=o.expenses||[],C=x.value||[];console.log("ðŸ” Debug expenses:",{serverCount:P.length,offlineCount:C.length});const E=C.filter(z=>!z.id||z.syncStatus==="pending"||z.syncStatus==="failed").map(z=>({id:null,localId:z.localId,description:z.description,amount:String(z.amount||"0"),date:z.date,user_id:z.user_id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),isOffline:!0})),ae=new Set(P.map(z=>`${z.description}-${z.amount}-${z.date}`)),U=E.filter(z=>{const Ge=`${z.description}-${z.amount}-${z.date}`;return!ae.has(Ge)});return[...P,...U].sort((z,Ge)=>new Date(Ge.date).getTime()-new Date(z.date).getTime())}),A=j(()=>t.props.flash?.importSummary||null);ve(A,P=>{if(!P)return;const C=P.imported??0,E=P.skipped??0,ae=P.errors??[],U=E>0?`Imported ${C} expense(s), skipped ${E}.`:`Imported ${C} expense(s).`;E>0&&ae.length>0?B.error(`${U} ${ae[0]}`):B.success(U)},{immediate:!0}),St(async()=>{try{console.log("ðŸš€ Initializing expense page..."),await S(),R(),console.log("âœ… Expense page storage ready!")}catch(P){console.error("Failed to initialize expense page:",P),B.error("Failed to initialize app")}document.addEventListener("editExpense",P=>{Gt(P.detail)}),document.addEventListener("deleteExpense",P=>{Lt(P.detail)})}),jt(()=>{document.removeEventListener("editExpense",()=>{}),document.removeEventListener("deleteExpense",()=>{})});const J=async()=>{try{if(console.log("ðŸ” Submit debug:",{isOnline:m.value,formData:s.data}),m.value)console.log("ðŸ“¡ Taking ONLINE path"),s.post(route("expense.store"),{onSuccess:()=>{s.reset(),u.value=!1,ie.value="",a.value=fe(pe()),B.success("Expense added successfully! ðŸŽ‰")},onError:()=>{B.error("Failed to add expense. Please check your inputs.")}});else{console.log("ðŸ“´ Taking OFFLINE path"),y.value||(await S(),R());const P=ut().props.auth?.user;console.log("ðŸ” Debug offline form data:",{description:s.description,amount:s.amount,date:s.date,user_id:P?.id}),await b({description:s.description,amount:s.amount,date:s.date,category_id:s.category_id,user_id:P?.id||1}),s.reset(),u.value=!1,ie.value="",a.value=fe(pe()),B.success("Expense saved offline! ðŸ“´ Will sync when online.")}}catch(P){console.error("Failed to create expense:",P),B.error("Failed to save expense. Please try again.")}},se=P=>{const C=P.target;l.csv_file=C.files?.[0]||null,l.csv_file&&l.clearErrors("csv_file")},$e=()=>{if(!l.csv_file){l.setError("csv_file","Please select a CSV file.");return}if(!m.value){B.error("Import requires an online connection.");return}l.post(route("expense.import"),{forceFormData:!0,onSuccess:()=>{g.value=!1,l.reset(),r.value&&(r.value.value="")},onError:()=>{B.error("Import failed. Please check the file format.")}})},Gt=P=>{d.value=P,f.value=!0},Lt=P=>{d.value=P,_.value=!0},Ot=P=>{w.value=P,c.value=!0},Ht=P=>{const E=[["Description","Amount","Date"].join(","),...P.map(z=>[`"${z.description}"`,z.amount,z.date].join(","))].join(`
`),ae=new Blob([E],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),Z=URL.createObjectURL(ae);U.setAttribute("href",Z),U.setAttribute("download",`expenses_${new Date().toISOString().split("T")[0]}.csv`),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U),B.success(`Exported ${P.length} expense(s) to CSV`)},ie=N(""),Bt=P=>{const C=P.target,U=C.value.replace(/[^\d.]/g,"").split("."),Z=U[0]+(U.length>1?"."+U.slice(1).join(""):"");if(s.amount=Z,Z&&!isNaN(parseFloat(Z))){const z=parseFloat(Z);ie.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(z)}else ie.value=Z?"â‚¦"+Z:"";setTimeout(()=>{const z=ie.value.length;C.setSelectionRange(z,z)},0)};return(P,C)=>(I(),q(Q,null,[p(i(Yt),{title:"Expenses"}),p(nn,{breadcrumbs:n},{default:v(()=>[h("div",bs,[h("div",As,[C[15]||(C[15]=h("h1",{class:"text-2xl font-bold"},"Expenses",-1)),h("div",zs,[p(i(L),{variant:"outline",onClick:C[0]||(C[0]=E=>g.value=!0)},{default:v(()=>[p(i(kn),{class:"w-4 h-4 mr-2"}),C[13]||(C[13]=V(" Import CSV ",-1))]),_:1,__:[13]}),p(i(L),{onClick:C[1]||(C[1]=E=>u.value=!0),class:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm"},{default:v(()=>[p(i(tn),{class:"w-4 h-4 mr-2"}),C[14]||(C[14]=V(" Add Expense ",-1))]),_:1,__:[14]})])]),p(i(xe),{open:u.value,"onUpdate:open":C[7]||(C[7]=E=>u.value=E)},{default:v(()=>[p(i(_e),{class:"sm:max-w-[500px]"},{default:v(()=>[p(i(we),null,{default:v(()=>[p(i(Se),null,{default:v(()=>C[16]||(C[16]=[V("Add New Expense",-1)])),_:1,__:[16]}),p(i(he),null,{default:v(()=>C[17]||(C[17]=[V(" Create a new expense record. Click save when you're done. ",-1)])),_:1,__:[17]})]),_:1}),h("form",{onSubmit:Ye(J,["prevent"]),class:"space-y-4 py-4"},[h("div",Gs,[p(i(ne),{for:"description"},{default:v(()=>C[18]||(C[18]=[V("Description",-1)])),_:1,__:[18]}),p(i(de),{id:"description",type:"text",modelValue:i(s).description,"onUpdate:modelValue":C[2]||(C[2]=E=>i(s).description=E),placeholder:"Coffee, Lunch, Gas, etc.",required:""},null,8,["modelValue"]),p(oe,{message:i(s).errors.description},null,8,["message"])]),h("div",Ls,[p(i(ne),{for:"amount"},{default:v(()=>C[19]||(C[19]=[V("Amount",-1)])),_:1,__:[19]}),p(i(de),{id:"amount",type:"text",modelValue:ie.value,"onUpdate:modelValue":C[3]||(C[3]=E=>ie.value=E),onInput:Bt,placeholder:"â‚¦0",required:""},null,8,["modelValue"]),p(oe,{message:i(s).errors.amount},null,8,["message"])]),h("div",Os,[p(i(ne),{for:"category"},{default:v(()=>C[20]||(C[20]=[V("Category",-1)])),_:1,__:[20]}),p(i(tt),{modelValue:i(s).category_id,"onUpdate:modelValue":C[4]||(C[4]=E=>i(s).category_id=E)},{default:v(()=>[p(i(nt),null,{default:v(()=>[p(i(ot),{placeholder:"Select category"})]),_:1}),p(i(st),null,{default:v(()=>[(I(!0),q(Q,null,ee(P.categories,E=>(I(),H(i(ke),{key:E.id,value:E.id.toString()},{default:v(()=>[h("div",Hs,[h("div",{class:"w-3 h-3 rounded-full",style:et({backgroundColor:E.color})},null,4),V(" "+O(E.name),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),p(oe,{message:i(s).errors.category_id},null,8,["message"])]),h("div",Bs,[p(i(ne),null,{default:v(()=>C[21]||(C[21]=[V("Date",-1)])),_:1,__:[21]}),p(i(Ct),{modelValue:a.value,"onUpdate:modelValue":C[5]||(C[5]=E=>a.value=E),placeholder:"Select date"},null,8,["modelValue"]),p(oe,{message:i(s).errors.date},null,8,["message"])]),p(i(Ce),null,{default:v(()=>[p(i(L),{type:"button",variant:"outline",onClick:C[6]||(C[6]=E=>u.value=!1)},{default:v(()=>C[22]||(C[22]=[V(" Cancel ",-1)])),_:1,__:[22]}),p(i(L),{type:"submit",disabled:i(s).processing},{default:v(()=>[i(s).processing?(I(),H(i(Re),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),V(" "+O(i(s).processing?"Adding...":"Add Expense"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),p(i(xe),{open:g.value,"onUpdate:open":C[9]||(C[9]=E=>g.value=E)},{default:v(()=>[p(i(_e),{class:"sm:max-w-[500px]"},{default:v(()=>[p(i(we),null,{default:v(()=>[p(i(Se),null,{default:v(()=>C[23]||(C[23]=[V("Import Expenses",-1)])),_:1,__:[23]}),p(i(he),null,{default:v(()=>C[24]||(C[24]=[V(" Upload a CSV with columns: Date, Description, Amount, Category. ",-1)])),_:1,__:[24]})]),_:1}),h("form",{onSubmit:Ye($e,["prevent"]),class:"space-y-4 py-4"},[h("div",Ns,[p(i(ne),{for:"csv-file"},{default:v(()=>C[25]||(C[25]=[V("CSV File",-1)])),_:1,__:[25]}),p(i(de),{id:"csv-file",type:"file",accept:".csv,text/csv",ref_key:"importFileInput",ref:r,onChange:se},null,512),p(oe,{message:i(l).errors.csv_file},null,8,["message"]),C[26]||(C[26]=h("p",{class:"text-sm text-muted-foreground"}," Date formats supported: YYYY-MM-DD, DD/MM/YYYY, MM/DD/YYYY. ",-1))]),p(i(Ce),null,{default:v(()=>[p(i(L),{type:"button",variant:"outline",onClick:C[8]||(C[8]=E=>g.value=!1)},{default:v(()=>C[27]||(C[27]=[V(" Cancel ",-1)])),_:1,__:[27]}),p(i(L),{type:"submit",disabled:i(l).processing},{default:v(()=>[i(l).processing?(I(),H(i(Re),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),V(" "+O(i(l).processing?"Importing...":"Import"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),p(i(on),null,{default:v(()=>[p(i(ln),{class:"pb-3"},{default:v(()=>[p(i(rn),{class:"text-lg"},{default:v(()=>C[28]||(C[28]=[V("Recent Expenses",-1)])),_:1,__:[28]})]),_:1}),p(i(sn),null,{default:v(()=>[p(Ds,{columns:i(ks),data:M.value,onBulkDelete:Ot,onBulkExport:Ht},null,8,["columns","data"])]),_:1})]),_:1})]),d.value?(I(),H(Bn,{key:0,open:f.value,"onUpdate:open":C[10]||(C[10]=E=>f.value=E),expense:d.value,categories:P.categories},null,8,["open","expense","categories"])):Y("",!0),d.value?(I(),H(Tn,{key:1,open:_.value,"onUpdate:open":C[11]||(C[11]=E=>_.value=E),expense:d.value,"delete-expense-offline":i(k)},null,8,["open","expense","delete-expense-offline"])):Y("",!0),p(Xn,{open:c.value,"onUpdate:open":C[12]||(C[12]=E=>c.value=E),expenses:w.value,"is-initialized":i(y),"bulk-delete-expenses-offline":i(D)},null,8,["open","expenses","is-initialized","bulk-delete-expenses-offline"])]),_:1})],64))}});export{sl as default};
