import{C as A,k as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-BzMhJDHG.js";import{d as $,c as f,A as I,b as d,o as i,h as o,u as a,j as R,w as r,f as t,t as n,k as c,e as _,g as G,m as L,B as H,F as y,l as k,n as w}from"./app-B2PDcKP3.js";import{_ as p,a as g}from"./CardContent.vue_vue_type_script_setup_true_lang-CwUytZ78.js";import{_ as b,a as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-B458Fkz2.js";import{C as O,a as P,L as U,B as W,p as q,b as Z,c as J,A as K,D as Q,d as X}from"./index-B4meDyTZ.js";import{T as Y}from"./trending-up-DJWOwBwk.js";import{c as v}from"./index-qBfqnD8L.js";import{C as tt}from"./clock-BvaZLz1w.js";import"./Label.vue_vue_type_script_setup_true_lang-GCRVZXHe.js";import"./check-T1Bu_J4F.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DPSL5pC-.js";import"./PwaInstallPrompt-Cvz41DQN.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=v("ChartColumnIcon",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=v("DollarSignIcon",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=v("TrendingDownIcon",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),at={class:"flex flex-1 flex-col gap-6 p-4 md:p-6 overflow-x-hidden animate-in fade-in duration-500"},rt={class:"flex flex-col gap-1"},lt={class:"text-sm text-muted-foreground"},nt={class:"text-3xl font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent"},it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},dt={class:"h-8 w-8 rounded-full bg-emerald-500/10 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors"},ct={class:"text-3xl font-bold tracking-tight mt-2"},ut={class:"text-xs text-muted-foreground mt-1 flex items-center gap-1"},mt={key:0,class:"inline-flex items-center"},ft={class:"h-8 w-8 rounded-full bg-violet-500/10 flex items-center justify-center"},pt={class:"text-3xl font-bold tracking-tight mt-2"},gt={class:"h-8 w-8 rounded-full bg-blue-500/10 flex items-center justify-center"},bt={class:"text-3xl font-bold tracking-tight mt-2"},ht={class:"flex items-center text-xs mt-1"},xt={class:"flex flex-col lg:grid lg:grid-cols-7 gap-6"},_t={class:"lg:col-span-3 space-y-6 order-1 lg:order-2"},yt={key:0,class:"flex flex-col items-center justify-center py-8 text-muted-foreground"},vt={key:1,class:"flex flex-row items-center justify-between gap-4"},kt={class:"h-[140px] w-[140px] flex-shrink-0 relative"},wt={class:"flex-1 space-y-2 max-h-[160px] overflow-y-auto pr-1 custom-scrollbar"},Ct={class:"flex items-center gap-2 min-w-0"},Dt={class:"flex flex-col min-w-0"},Bt={class:"font-medium truncate"},Mt={class:"text-[10px] text-muted-foreground"},jt={class:"font-semibold tabular-nums"},Tt={key:2,class:"mt-4 flex justify-center pt-2 border-t border-border/30"},Et={class:"h-[200px] w-full"},St={key:0,class:"flex flex-col items-center justify-center py-12 text-muted-foreground"},Nt={class:"h-16 w-16 rounded-full bg-muted/50 flex items-center justify-center mb-4"},zt={key:1,class:"space-y-1"},Ft={class:"flex items-center gap-4 flex-1 min-w-0"},At={class:"truncate"},Vt={class:"font-medium truncate group-hover:text-primary transition-colors"},$t={class:"flex items-center gap-2 text-xs text-muted-foreground"},It={class:"truncate"},Rt={class:"text-right pl-4"},Gt={class:"font-bold tabular-nums"},Lt={key:0,class:"text-center pt-4 border-t border-border/30 mt-2"},te=$({__name:"Dashboard",props:{recentExpenses:{},statistics:{}},setup(C){O.register(P,U,W,q,Z,J,K);const u=C,D=[{title:"Dashboard",href:"/dashboard"}],m=s=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(s),x=f(()=>{const s=u.statistics.thisMonth,e=u.statistics.lastMonth;if(e===0)return s>0?100:0;const l=(s-e)/e*100;return Math.round(l*100)/100});f(()=>x.value>0?"text-red-600":"text-green-600");const B=f(()=>x.value>0?Y:ot),M=f(()=>({labels:u.statistics.monthlyTrend.map(s=>s.month),datasets:[{label:"Monthly Spending",data:u.statistics.monthlyTrend.map(s=>s.amount),backgroundColor:"#3b82f6",hoverBackgroundColor:"#2563eb",borderRadius:6,barThickness:24,categoryPercentage:.8}]})),j={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8,displayColors:!1,callbacks:{label:s=>m(s.raw)}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.05)",drawBorder:!1},ticks:{font:{size:11},color:"#94a3b8",callback:s=>"₦"+s/1e3+"k"},border:{display:!1}},x:{grid:{display:!1},ticks:{font:{size:11},color:"#94a3b8"},border:{display:!1}}}},T=f(()=>({labels:u.statistics.categoryBreakdown.map(s=>s.name),datasets:[{data:u.statistics.categoryBreakdown.map(s=>s.amount),backgroundColor:u.statistics.categoryBreakdown.map(s=>s.color),borderWidth:0,hoverOffset:4}]})),E={responsive:!0,maintainAspectRatio:!1,cutout:"75%",plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,bodyFont:{size:12},cornerRadius:8,callbacks:{label:s=>{const e=s.raw,l=s.chart._metasets[s.datasetIndex].total,F=Math.round(e/l*100)+"%";return`${s.label}: ${m(e)} (${F})`}}}}},{props:S}=I(),N=f(()=>S.auth.user),z=f(()=>{const s=new Date().getHours();return s<12?"Good Morning":s<18?"Good Afternoon":"Good Evening"});return(s,e)=>(i(),d(y,null,[o(a(R),{title:"Dashboard"}),o(V,{breadcrumbs:D},{default:r(()=>[t("div",at,[t("div",rt,[t("span",lt,n(z.value)+",",1),t("h1",nt,n(N.value.name),1)]),t("div",it,[o(a(p),{class:"bg-card/50 backdrop-blur-xl border-border/50 hover:bg-card/80 transition-all duration-300 shadow-sm hover:shadow-md group"},{default:r(()=>[o(a(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[o(a(h),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>e[0]||(e[0]=[c("Total Expenses",-1)])),_:1,__:[0]}),t("div",dt,[o(a(st),{class:"h-4 w-4 text-emerald-500"})])]),_:1}),o(a(g),null,{default:r(()=>[t("div",ct,n(m(s.statistics.total)),1),t("p",ut,[e[2]||(e[2]=c(" All time spending ",-1)),s.statistics.firstExpenseDate?(i(),d("span",mt,[e[1]||(e[1]=t("span",{class:"mx-1"},"•",-1)),c(" Since "+n(s.statistics.firstExpenseDate),1)])):_("",!0)])]),_:1})]),_:1}),o(a(p),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm hover:shadow-md transition-all"},{default:r(()=>[o(a(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[o(a(h),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>e[3]||(e[3]=[c("This Week",-1)])),_:1,__:[3]}),t("div",ft,[o(a(tt),{class:"h-4 w-4 text-violet-500"})])]),_:1}),o(a(g),null,{default:r(()=>[t("div",pt,n(m(s.statistics.thisWeek)),1),e[4]||(e[4]=t("p",{class:"text-xs text-muted-foreground mt-1"},"Current week spending",-1))]),_:1,__:[4]})]),_:1}),o(a(p),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm hover:shadow-md transition-all"},{default:r(()=>[o(a(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[o(a(h),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>e[5]||(e[5]=[c("This Month",-1)])),_:1,__:[5]}),t("div",gt,[o(a(A),{class:"h-4 w-4 text-blue-500"})])]),_:1}),o(a(g),null,{default:r(()=>[t("div",bt,n(m(s.statistics.thisMonth)),1),t("div",ht,[t("div",{class:G(["flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-medium",x.value>0?"bg-red-500/10 text-red-500":"bg-emerald-500/10 text-emerald-500"])},[(i(),L(H(B.value),{class:"h-3 w-3 mr-1"})),c(" "+n(Math.abs(x.value))+"% ",1)],2),e[6]||(e[6]=t("span",{class:"text-muted-foreground ml-2"},"from last month",-1))])]),_:1})]),_:1})]),t("div",xt,[t("div",_t,[o(a(p),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm"},{default:r(()=>[o(a(b),null,{default:r(()=>[o(a(h),{class:"text-lg font-semibold"},{default:r(()=>e[7]||(e[7]=[c("This Month by Category",-1)])),_:1,__:[7]})]),_:1}),o(a(g),null,{default:r(()=>[s.statistics.categoryBreakdown.length===0?(i(),d("div",yt,e[8]||(e[8]=[t("p",{class:"text-sm"},"No data to display",-1)]))):(i(),d("div",vt,[t("div",kt,[o(a(Q),{data:T.value,options:E},null,8,["data"])]),t("div",wt,[(i(!0),d(y,null,k(s.statistics.categoryBreakdown,l=>(i(),d("div",{key:l.name,class:"flex items-center justify-between text-xs group"},[t("div",Ct,[t("div",{class:"w-2 h-2 rounded-full shrink-0",style:w({backgroundColor:l.color})},null,4),t("div",Dt,[t("span",Bt,n(l.name),1),t("span",Mt,n(l.percentage)+"%",1)])]),t("span",jt,n(m(l.amount)),1)]))),128))])])),s.statistics.categoryBreakdown.length>0?(i(),d("div",Tt,e[9]||(e[9]=[t("a",{href:"/categories",class:"text-xs text-muted-foreground hover:text-foreground transition-colors"}," View full details ",-1)]))):_("",!0)]),_:1})]),_:1}),o(a(p),{class:"bg-card/50 backdrop-blur-xl border-border/50 shadow-sm"},{default:r(()=>[o(a(b),null,{default:r(()=>[o(a(h),{class:"text-lg font-semibold"},{default:r(()=>e[10]||(e[10]=[c("Monthly Trend",-1)])),_:1,__:[10]})]),_:1}),o(a(g),null,{default:r(()=>[t("div",Et,[o(a(X),{data:M.value,options:j},null,8,["data"])])]),_:1})]),_:1})]),o(a(p),{class:"lg:col-span-4 bg-card/50 backdrop-blur-xl border-border/50 shadow-sm order-2 lg:order-1"},{default:r(()=>[o(a(b),null,{default:r(()=>[o(a(h),{class:"text-lg font-semibold"},{default:r(()=>e[11]||(e[11]=[c("Recent Transactions",-1)])),_:1,__:[11]})]),_:1}),o(a(g),null,{default:r(()=>[s.recentExpenses.length===0?(i(),d("div",St,[t("div",Nt,[o(a(et),{class:"h-8 w-8 opacity-50"})]),e[12]||(e[12]=t("p",{class:"font-medium"},"No expenses yet",-1)),e[13]||(e[13]=t("p",{class:"text-sm mt-1"},"Start by adding your first expense!",-1))])):(i(),d("div",zt,[(i(!0),d(y,null,k(s.recentExpenses.slice(0,5),l=>(i(),d("div",{key:l.id,class:"flex items-center justify-between p-3 rounded-xl hover:bg-muted/50 transition-colors group cursor-default"},[t("div",Ft,[t("div",{class:"w-2 h-2 rounded-full shrink-0",style:w({backgroundColor:l.category?.color||"#6B7280"})},null,4),t("div",At,[t("p",Vt,n(l.description),1),t("div",$t,[t("span",null,n(new Date(l.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),1),e[14]||(e[14]=t("span",{class:"w-1 h-1 rounded-full bg-muted-foreground/30"},null,-1)),t("span",It,n(l.category?.name||"Uncategorized"),1)])])]),t("div",Rt,[t("p",Gt,n(m(parseFloat(l.amount))),1)])]))),128)),s.recentExpenses.length>5?(i(),d("div",Lt,e[15]||(e[15]=[t("a",{href:"/expense",class:"inline-flex items-center text-sm font-medium text-primary hover:text-primary/80 transition-colors"},[c(" View all transactions "),t("span",{class:"ml-1 text-xs"},"→")],-1)]))):_("",!0)]))]),_:1})]),_:1})])])]),_:1})],64))}});export{te as default};
