import{d as W,r as N,m as O,o as I,w,h as p,u as i,s as pe,v as ct,E as ft,G as pt,c as X,f as h,i as Ye,H as xe,k as M,b as T,e as Y,F as Q,l as ee,t as L,p as mt,n as We,I as At,J as bt,K as zt,L as z,M as vt,g as Gt,N as Lt,j as Ot,A as Ht}from"./app-C49Iw_Sg.js";import{m as _t,n as Te,M as Bt,u as ye,o as wt,a as Fe,b as $e,c as Ve,d as Ie,e as Je,f as Qe,g as Ze,h as et,i as Re,p as St,j as Me,_ as De,$ as de,q as ge,r as Nt,t as B,C as Tt,s as ht,v as Ct,w as qt,x as xt,X as Ut,y as jt,z as Kt,A as rt,P as Xt,k as Yt}from"./AppLayout.vue_vue_type_script_setup_true_lang-zdg8ISK4.js";import{_ as Wt,a as Jt}from"./CardContent.vue_vue_type_script_setup_true_lang-CRH5Dj0n.js";import{_ as Qt,a as Zt}from"./CardTitle.vue_vue_type_script_setup_true_lang-DDWXmc55.js";import{P as en,c as tt,a as tn,_ as H,L as Pe,v as ve}from"./index-BkiaIL2O.js";import{u as nn,b as Rt,_ as oe,a as fe}from"./Label.vue_vue_type_script_setup_true_lang-MMmVKI1a.js";import{_ as le}from"./InputError.vue_vue_type_script_setup_true_lang-2G2nmFKO.js";import{T as yt}from"./triangle-alert-C6C7-LX5.js";import{c as on,P as ln,b as sn,a as rn,C as an}from"./check-BENKUzaa.js";import{_ as un,a as dn,b as gn,c as ie,d as _e,e as cn}from"./TableHeader.vue_vue_type_script_setup_true_lang-DCc_VtkO.js";import{T as fn}from"./trash-2-W93Vo6a9.js";import{_ as it}from"./Checkbox.vue_vue_type_script_setup_true_lang-nX8JoX-u.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B6lcd1oD.js";import"./PwaInstallPrompt-D7uajZai.js";import"./VisuallyHiddenInput-CvCnwNM3.js";const[pn,mn]=on(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext");var vn=W({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const o=pn({modelValue:N(!1)});return(t,n)=>(I(),O(i(ln),{present:t.forceMount||i(Te)(i(o).modelValue.value)||i(o).modelValue.value===!0},{default:w(()=>[p(i(en),{as:t.as,"as-child":t.asChild,"data-state":i(_t)(i(o).modelValue.value)},{default:w(()=>[pe(t.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),_n=vn,wn=W({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1,default:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,n=o,l=nn(t,"modelValue",n);return mn({modelValue:l}),(s,r)=>(I(),O(Bt,ct({role:"menuitemcheckbox"},t,{"aria-checked":i(Te)(i(l))?"mixed":i(l),"data-state":i(_t)(i(l)),onSelect:r[0]||(r[0]=async a=>{n("select",a),i(Te)(i(l))?l.value=!0:l.value=!i(l)})}),{default:w(()=>[pe(s.$slots,"default",{modelValue:i(l)})]),_:3},16,["aria-checked","data-state"]))}}),Sn=wn,hn=W({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,l=sn(o);return Rt(),(s,r)=>(I(),O(i(Sn),ft(pt({...t,...i(l)})),{default:w(()=>[pe(s.$slots,"default")]),_:3},16))}}),Cn=hn,xn=W({__name:"DropdownMenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return Rt(),(t,n)=>(I(),O(i(_n),ft(pt(o)),{default:w(()=>[pe(t.$slots,"default")]),_:3},16))}}),Rn=xn;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=tt("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=tt("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=tt("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),$n={class:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center"},Vn=W({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:modelValue"],setup(e,{emit:o}){const t=e,n=o,l=X(()=>{const{class:r,...a}=t;return a}),s=rn(l,n);return(r,a)=>(I(),O(i(Cn),ct({"data-slot":"dropdown-menu-checkbox-item"},i(s),{class:i(tn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:w(()=>[h("span",$n,[p(i(Rn),null,{default:w(()=>[p(i(an),{class:"size-4"})]),_:1})]),pe(r.$slots,"default")]),_:3},16,["class"]))}}),In={class:"space-y-2"},Mn={class:"space-y-2"},Dn={key:0,class:"space-y-2"},Pn={class:"flex items-center gap-2"},En={class:"space-y-2"},kn=W({__name:"EditExpenseDialog",props:{open:{type:Boolean},expense:{},categories:{}},emits:["update:open"],setup(e,{emit:o}){const t=e,n=o,{isOnline:l}=ye(),{updateExpenseOffline:s}=wt(),r=N(!1),a=m=>{try{const S=new Date(m);if(isNaN(S.getTime()))return de(ge());const x=S.getFullYear(),k=S.getMonth()+1,E=S.getDate();return new Nt(x,k,E)}catch{return de(ge())}},u=Ye({description:t.expense.description,amount:t.expense.amount,date:t.expense.date,category_id:t.expense.category_id}),g=N(a(t.expense.date));xe(g,m=>{m&&(u.date=m.toString())});const f=async()=>{if(!(r.value||u.processing))try{if(r.value=!0,t.expense.isOffline)await s(t.expense.id,{description:u.description,amount:u.amount,date:u.date,category_id:u.category_id}),n("update:open",!1),B.success("Expense updated successfully! âœ¨");else if(l.value){u.put(route("expense.update",t.expense.id),{onSuccess:()=>{n("update:open",!1),B.success("Expense updated successfully! âœ¨")},onError:()=>{B.error("Failed to update expense. Please check your inputs.")},onFinish:()=>{r.value=!1}});return}else await s(t.expense.id,{description:u.description,amount:u.amount,date:u.date,category_id:u.category_id}),n("update:open",!1),B.success("Expense queued for update when online! ðŸ“´")}catch(m){console.error("Failed to update expense:",m),B.error("Failed to update expense. Please try again.")}finally{r.value=!1}},v=()=>{n("update:open",!1)},c=N(""),d=m=>{if(m&&!isNaN(parseFloat(m))){const S=parseFloat(m);c.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(S)}else c.value=""},_=m=>{const S=m.target,E=S.value.replace(/[^\d.]/g,"").split("."),D=E[0]+(E.length>1?"."+E.slice(1).join(""):"");if(u.amount=D,D&&!isNaN(parseFloat(D))){const R=parseFloat(D);c.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(R)}else c.value=D?"â‚¦"+D:"";setTimeout(()=>{const R=c.value.length;S.setSelectionRange(R,R)},0)};return d(t.expense.amount),xe(()=>t.expense,m=>{u.reset(),u.description=m.description,u.amount=m.amount,u.date=m.date,u.category_id=m.category_id,g.value=a(m.date),d(m.amount)},{deep:!0}),(m,S)=>(I(),O(i(De),{open:m.open,"onUpdate:open":S[4]||(S[4]=x=>m.$emit("update:open",x))},{default:w(()=>[p(i(Fe),{class:"sm:max-w-[425px]"},{default:w(()=>[p(i($e),null,{default:w(()=>[p(i(Ve),null,{default:w(()=>S[5]||(S[5]=[M("Edit Expense",-1)])),_:1,__:[5]}),p(i(Ie),null,{default:w(()=>S[6]||(S[6]=[M(" Make changes to your expense here. Click save when you're done. ",-1)])),_:1,__:[6]})]),_:1}),h("form",{onSubmit:mt(f,["prevent"]),class:"space-y-4"},[h("div",In,[p(i(oe),{for:"edit-description"},{default:w(()=>S[7]||(S[7]=[M("Description",-1)])),_:1,__:[7]}),p(i(fe),{id:"edit-description",type:"text",modelValue:i(u).description,"onUpdate:modelValue":S[0]||(S[0]=x=>i(u).description=x),placeholder:"Coffee, Lunch, Gas, etc.",required:"",disabled:i(u).processing||r.value,class:"w-full"},null,8,["modelValue","disabled"]),p(le,{message:i(u).errors.description},null,8,["message"])]),h("div",Mn,[p(i(oe),{for:"edit-amount"},{default:w(()=>S[8]||(S[8]=[M("Amount",-1)])),_:1,__:[8]}),p(i(fe),{id:"edit-amount",type:"text",modelValue:c.value,"onUpdate:modelValue":S[1]||(S[1]=x=>c.value=x),onInput:_,placeholder:"â‚¦0",required:"",disabled:i(u).processing||r.value,class:"w-full"},null,8,["modelValue","disabled"]),p(le,{message:i(u).errors.amount},null,8,["message"])]),m.categories&&m.categories.length>0?(I(),T("div",Dn,[p(i(oe),{for:"edit-category"},{default:w(()=>S[9]||(S[9]=[M("Category",-1)])),_:1,__:[9]}),p(i(Je),{modelValue:i(u).category_id,"onUpdate:modelValue":S[2]||(S[2]=x=>i(u).category_id=x),disabled:i(u).processing||r.value},{default:w(()=>[p(i(Qe),null,{default:w(()=>[p(i(Ze),{placeholder:"Select category"})]),_:1}),p(i(et),null,{default:w(()=>[p(i(Re),{value:""},{default:w(()=>S[10]||(S[10]=[h("div",{class:"flex items-center gap-2"},[h("div",{class:"w-3 h-3 rounded-full bg-gray-400"}),M(" Uncategorized ")],-1)])),_:1,__:[10]}),(I(!0),T(Q,null,ee(m.categories,x=>(I(),O(i(Re),{key:x.id,value:x.id.toString()},{default:w(()=>[h("div",Pn,[h("div",{class:"w-3 h-3 rounded-full",style:We({backgroundColor:x.color})},null,4),M(" "+L(x.name),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"]),p(le,{message:i(u).errors.category_id},null,8,["message"])])):Y("",!0),h("div",En,[p(i(oe),null,{default:w(()=>S[11]||(S[11]=[M("Date",-1)])),_:1,__:[11]}),p(i(St),{modelValue:g.value,"onUpdate:modelValue":S[3]||(S[3]=x=>g.value=x),placeholder:"Select date",disabled:i(u).processing||r.value},null,8,["modelValue","disabled"]),p(le,{message:i(u).errors.date},null,8,["message"])]),p(i(Me),null,{default:w(()=>[p(i(H),{type:"button",variant:"outline",onClick:v,disabled:i(u).processing||r.value},{default:w(()=>S[12]||(S[12]=[M(" Cancel ",-1)])),_:1,__:[12]},8,["disabled"]),p(i(H),{type:"submit",disabled:i(u).processing||r.value},{default:w(()=>[i(u).processing||r.value?(I(),O(i(Pe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),M(" "+L(i(u).processing||r.value?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),An={class:"flex items-center gap-3"},bn={class:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center"},zn=W({__name:"DeleteExpenseDialog",props:{open:{type:Boolean},expense:{},deleteExpenseOffline:{type:Function}},emits:["update:open"],setup(e,{emit:o}){const t=e,n=o,{isOnline:l}=ye(),s=N(!1),r=Ye({}),a=async()=>{if(!s.value)try{if(s.value=!0,t.expense.isOffline)if(t.deleteExpenseOffline)await t.deleteExpenseOffline(t.expense.id),n("update:open",!1),B.success("Expense deleted successfully! ðŸ—‘ï¸");else throw new Error("Offline delete function not available");else if(l.value){r.delete(route("expense.destroy",t.expense.id),{onSuccess:()=>{n("update:open",!1),B.success("Expense deleted successfully! ðŸ—‘ï¸")},onError:()=>{B.error("Failed to delete expense. Please try again.")},onFinish:()=>{s.value=!1}});return}else if(t.deleteExpenseOffline)await t.deleteExpenseOffline(t.expense.id),n("update:open",!1),B.success("Expense queued for deletion when online! ðŸ“´");else throw new Error("Offline delete function not available")}catch(g){console.error("Failed to delete expense:",g),B.error("Failed to delete expense. Please try again.")}finally{s.value=!1}},u=()=>{n("update:open",!1)};return(g,f)=>(I(),O(i(De),{open:g.open,"onUpdate:open":f[0]||(f[0]=v=>g.$emit("update:open",v))},{default:w(()=>[p(i(Fe),{class:"sm:max-w-[425px]"},{default:w(()=>[p(i($e),null,{default:w(()=>[h("div",An,[h("div",bn,[p(i(yt),{class:"w-5 h-5 text-destructive"})]),h("div",null,[p(i(Ve),{class:"text-destructive"},{default:w(()=>f[1]||(f[1]=[M("Delete Expense",-1)])),_:1,__:[1]})])]),p(i(Ie),{class:"pt-2"},{default:w(()=>[M(' Are you sure you want to delete "'+L(g.expense.description)+'"? This action cannot be undone. ',1)]),_:1})]),_:1}),p(i(Me),null,{default:w(()=>[p(i(H),{type:"button",variant:"outline",onClick:u,disabled:i(r).processing||s.value},{default:w(()=>f[2]||(f[2]=[M(" Cancel ",-1)])),_:1,__:[2]},8,["disabled"]),p(i(H),{type:"button",variant:"destructive",onClick:a,disabled:i(r).processing||s.value},{default:w(()=>[i(r).processing||s.value?(I(),O(i(Pe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),M(" "+L(i(r).processing||s.value?"Deleting...":"Delete Expense"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),Gn={class:"flex items-center gap-3"},Ln={class:"w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center"},On={class:"mb-2"},Hn={key:0,class:"text-sm text-muted-foreground bg-muted/50 rounded-md p-3"},Bn=W({__name:"BulkDeleteExpenseDialog",props:{open:{type:Boolean},expenses:{},isInitialized:{type:Boolean},bulkDeleteExpensesOffline:{type:Function}},emits:["update:open","confirmed"],setup(e,{emit:o}){const t=e,n=o,{isOnline:l}=ye(),s=N(!1),r=X(()=>t.expenses?.length||0),a=X(()=>t.expenses?.length?t.expenses.length<=3?t.expenses.map(f=>`"${f.description}"`).join(", "):`${t.expenses.slice(0,3).map(v=>`"${v.description}"`).join(", ")} and ${t.expenses.length-3} more`:""),u=async()=>{if(!(s.value||!t.expenses?.length))try{if(s.value=!0,!t.isInitialized){B.error("App is still initializing, please wait...");return}if(console.log("ðŸ” Debug expenses for bulk delete:",t.expenses),console.log("ðŸ” Expense details:",t.expenses.map(f=>({id:f.id,isOffline:f.isOffline,localId:f.localId}))),l.value){console.log("ðŸ“¡ Bulk deleting expenses online");const f=t.expenses.filter(c=>c.id&&!c.isOffline),v=t.expenses.filter(c=>c.isOffline);if(console.log("ðŸ” Server expenses:",f),console.log("ðŸ” Offline expenses:",v),f.length>0){const c=f.map(m=>m.id),d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),_=await fetch("/expenses/bulk",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":d||""},credentials:"include",body:JSON.stringify({expense_ids:c})});if(!_.ok){const m=await _.json();throw new Error(m.message||`Server error: ${_.status}`)}}if(v.length>0){const c=v.map(d=>d.localId);await t.bulkDeleteExpensesOffline(c)}B.success(`Successfully deleted ${r.value} expense(s)!`),n("update:open",!1),window.location.reload()}else{console.log("ðŸ“´ Bulk deleting expenses offline");const f=t.expenses.map(c=>c.isOffline?c.localId:c.id),v=await t.bulkDeleteExpensesOffline(f);n("update:open",!1),v.success?B.success(`Successfully deleted ${v.deletedCount} expense(s) offline! ðŸ“´`):B.warning(`Deleted ${v.deletedCount} expense(s), but some failed: ${v.errors.join(", ")}`)}}catch(f){console.error("Bulk delete failed:",f),B.error(`Failed to delete expenses: ${f instanceof Error?f.message:"Unknown error"}`)}finally{s.value=!1}},g=()=>{n("update:open",!1)};return(f,v)=>(I(),O(i(De),{open:f.open,"onUpdate:open":v[0]||(v[0]=c=>f.$emit("update:open",c))},{default:w(()=>[p(i(Fe),{class:"sm:max-w-[500px]"},{default:w(()=>[p(i($e),null,{default:w(()=>[h("div",Gn,[h("div",Ln,[p(i(yt),{class:"w-5 h-5 text-destructive"})]),h("div",null,[p(i(Ve),{class:"text-destructive"},{default:w(()=>[M("Delete "+L(r.value)+" Expense"+L(r.value>1?"s":""),1)]),_:1})])]),p(i(Ie),{class:"pt-2"},{default:w(()=>[h("p",On," Are you sure you want to delete "+L(r.value)+" expense"+L(r.value>1?"s":"")+"? This action cannot be undone. ",1),a.value?(I(),T("div",Hn,[v[1]||(v[1]=h("strong",null,"Expenses to delete:",-1)),v[2]||(v[2]=h("br",null,null,-1)),M(" "+L(a.value),1)])):Y("",!0)]),_:1})]),_:1}),p(i(Me),null,{default:w(()=>[p(i(H),{type:"button",variant:"outline",onClick:g,disabled:s.value},{default:w(()=>v[3]||(v[3]=[M(" Cancel ",-1)])),_:1,__:[3]},8,["disabled"]),p(i(H),{type:"button",variant:"destructive",onClick:u,disabled:s.value},{default:w(()=>[s.value?(I(),O(i(Pe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),M(" "+L(s.value?"Deleting...":`Delete ${r.value} Expense${r.value>1?"s":""}`),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function se(e,o){return typeof e=="function"?e(o):e}function j(e,o){return t=>{o.setState(n=>({...n,[e]:se(t,n[e])}))}}function Ee(e){return e instanceof Function}function Nn(e){return Array.isArray(e)&&e.every(o=>typeof o=="number")}function Tn(e,o){const t=[],n=l=>{l.forEach(s=>{t.push(s);const r=o(s);r!=null&&r.length&&n(r)})};return n(e),t}function y(e,o,t){let n=[],l;return s=>{let r;t.key&&t.debug&&(r=Date.now());const a=e(s);if(!(a.length!==n.length||a.some((f,v)=>n[v]!==f)))return l;n=a;let g;if(t.key&&t.debug&&(g=Date.now()),l=o(...a),t==null||t.onChange==null||t.onChange(l),t.key&&t.debug&&t!=null&&t.debug()){const f=Math.round((Date.now()-r)*100)/100,v=Math.round((Date.now()-g)*100)/100,c=v/16,d=(_,m)=>{for(_=String(_);_.length<m;)_=" "+_;return _};console.info(`%câ± ${d(v,5)} /${d(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return l}}function F(e,o,t,n){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[o]},key:!1,onChange:n}}function qn(e,o,t,n){const l=()=>{var r;return(r=s.getValue())!=null?r:e.options.renderFallbackValue},s={id:`${o.id}_${t.id}`,row:o,column:t,getValue:()=>o.getValue(n),renderValue:l,getContext:y(()=>[e,t,o,s],(r,a,u,g)=>({table:r,column:a,row:u,cell:g,getValue:g.getValue,renderValue:g.renderValue}),F(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(s,t,o,e)},{}),s}function Un(e,o,t,n){var l,s;const a={...e._getDefaultColumnDef(),...o},u=a.accessorKey;let g=(l=(s=a.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?l:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:u&&(u.includes(".")?f=c=>{let d=c;for(const m of u.split(".")){var _;d=(_=d)==null?void 0:_[m]}return d}:f=c=>c[a.accessorKey]),!g)throw new Error;let v={id:`${String(g)}`,accessorFn:f,parent:n,depth:t,columnDef:a,columns:[],getFlatColumns:y(()=>[!0],()=>{var c;return[v,...(c=v.columns)==null?void 0:c.flatMap(d=>d.getFlatColumns())]},F(e.options,"debugColumns")),getLeafColumns:y(()=>[e._getOrderColumnsFn()],c=>{var d;if((d=v.columns)!=null&&d.length){let _=v.columns.flatMap(m=>m.getLeafColumns());return c(_)}return[v]},F(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(v,e);return v}const U="debugHeaders";function at(e,o,t){var n;let s={id:(n=t.id)!=null?n:o.id,column:o,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),r.push(u)};return a(s),r},getContext:()=>({table:e,header:s,column:o})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(s,e)}),s}const jn={createTable:e=>{e.getHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,l)=>{var s,r;const a=(s=n?.map(v=>t.find(c=>c.id===v)).filter(Boolean))!=null?s:[],u=(r=l?.map(v=>t.find(c=>c.id===v)).filter(Boolean))!=null?r:[],g=t.filter(v=>!(n!=null&&n.includes(v.id))&&!(l!=null&&l.includes(v.id)));return we(o,[...a,...g,...u],e)},F(e.options,U)),e.getCenterHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,l)=>(t=t.filter(s=>!(n!=null&&n.includes(s.id))&&!(l!=null&&l.includes(s.id))),we(o,t,e,"center")),F(e.options,U)),e.getLeftHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(o,t,n)=>{var l;const s=(l=n?.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?l:[];return we(o,s,e,"left")},F(e.options,U)),e.getRightHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(o,t,n)=>{var l;const s=(l=n?.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?l:[];return we(o,s,e,"right")},F(e.options,U)),e.getFooterGroups=y(()=>[e.getHeaderGroups()],o=>[...o].reverse(),F(e.options,U)),e.getLeftFooterGroups=y(()=>[e.getLeftHeaderGroups()],o=>[...o].reverse(),F(e.options,U)),e.getCenterFooterGroups=y(()=>[e.getCenterHeaderGroups()],o=>[...o].reverse(),F(e.options,U)),e.getRightFooterGroups=y(()=>[e.getRightHeaderGroups()],o=>[...o].reverse(),F(e.options,U)),e.getFlatHeaders=y(()=>[e.getHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,U)),e.getLeftFlatHeaders=y(()=>[e.getLeftHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,U)),e.getCenterFlatHeaders=y(()=>[e.getCenterHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,U)),e.getRightFlatHeaders=y(()=>[e.getRightHeaderGroups()],o=>o.map(t=>t.headers).flat(),F(e.options,U)),e.getCenterLeafHeaders=y(()=>[e.getCenterFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,U)),e.getLeftLeafHeaders=y(()=>[e.getLeftFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,U)),e.getRightLeafHeaders=y(()=>[e.getRightFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),F(e.options,U)),e.getLeafHeaders=y(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(o,t,n)=>{var l,s,r,a,u,g;return[...(l=(s=o[0])==null?void 0:s.headers)!=null?l:[],...(r=(a=t[0])==null?void 0:a.headers)!=null?r:[],...(u=(g=n[0])==null?void 0:g.headers)!=null?u:[]].map(f=>f.getLeafHeaders()).flat()},F(e.options,U))}};function we(e,o,t,n){var l,s;let r=0;const a=function(c,d){d===void 0&&(d=1),r=Math.max(r,d),c.filter(_=>_.getIsVisible()).forEach(_=>{var m;(m=_.columns)!=null&&m.length&&a(_.columns,d+1)},0)};a(e);let u=[];const g=(c,d)=>{const _={depth:d,id:[n,`${d}`].filter(Boolean).join("_"),headers:[]},m=[];c.forEach(S=>{const x=[...m].reverse()[0],k=S.column.depth===_.depth;let E,D=!1;if(k&&S.column.parent?E=S.column.parent:(E=S.column,D=!0),x&&x?.column===E)x.subHeaders.push(S);else{const R=at(t,E,{id:[n,d,E.id,S?.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${m.filter(C=>C.column===E).length}`:void 0,depth:d,index:m.length});R.subHeaders.push(S),m.push(R)}_.headers.push(S),S.headerGroup=_}),u.push(_),d>0&&g(m,d-1)},f=o.map((c,d)=>at(t,c,{depth:r,index:d}));g(f,r-1),u.reverse();const v=c=>c.filter(_=>_.column.getIsVisible()).map(_=>{let m=0,S=0,x=[0];_.subHeaders&&_.subHeaders.length?(x=[],v(_.subHeaders).forEach(E=>{let{colSpan:D,rowSpan:R}=E;m+=D,x.push(R)})):m=1;const k=Math.min(...x);return S=S+k,_.colSpan=m,_.rowSpan=S,{colSpan:m,rowSpan:S}});return v((l=(s=u[0])==null?void 0:s.headers)!=null?l:[]),u}const nt=(e,o,t,n,l,s,r)=>{let a={id:o,index:n,original:t,depth:l,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const g=e.getColumn(u);if(g!=null&&g.accessorFn)return a._valuesCache[u]=g.accessorFn(a.original,n),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const g=e.getColumn(u);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=g.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var g;return(g=a.getValue(u))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Tn(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],g=a;for(;;){const f=g.getParentRow();if(!f)break;u.push(f),g=f}return u.reverse()},getAllCells:y(()=>[e.getAllLeafColumns()],u=>u.map(g=>qn(e,a,g,g.id)),F(e.options,"debugRows")),_getAllCellsByColumnId:y(()=>[a.getAllCells()],u=>u.reduce((g,f)=>(g[f.column.id]=f,g),{}),F(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const g=e._features[u];g==null||g.createRow==null||g.createRow(a,e)}return a},Kn={createColumn:(e,o)=>{e._getFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():o.getPreFilteredRowModel(),e._getFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ft=(e,o,t)=>{var n,l;const s=t==null||(n=t.toString())==null?void 0:n.toLowerCase();return!!(!((l=e.getValue(o))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(s))};Ft.autoRemove=e=>J(e);const $t=(e,o,t)=>{var n;return!!(!((n=e.getValue(o))==null||(n=n.toString())==null)&&n.includes(t))};$t.autoRemove=e=>J(e);const Vt=(e,o,t)=>{var n;return((n=e.getValue(o))==null||(n=n.toString())==null?void 0:n.toLowerCase())===t?.toLowerCase()};Vt.autoRemove=e=>J(e);const It=(e,o,t)=>{var n;return(n=e.getValue(o))==null?void 0:n.includes(t)};It.autoRemove=e=>J(e);const Mt=(e,o,t)=>!t.some(n=>{var l;return!((l=e.getValue(o))!=null&&l.includes(n))});Mt.autoRemove=e=>J(e)||!(e!=null&&e.length);const Dt=(e,o,t)=>t.some(n=>{var l;return(l=e.getValue(o))==null?void 0:l.includes(n)});Dt.autoRemove=e=>J(e)||!(e!=null&&e.length);const Pt=(e,o,t)=>e.getValue(o)===t;Pt.autoRemove=e=>J(e);const Et=(e,o,t)=>e.getValue(o)==t;Et.autoRemove=e=>J(e);const ot=(e,o,t)=>{let[n,l]=t;const s=e.getValue(o);return s>=n&&s<=l};ot.resolveFilterValue=e=>{let[o,t]=e,n=typeof o!="number"?parseFloat(o):o,l=typeof t!="number"?parseFloat(t):t,s=o===null||Number.isNaN(n)?-1/0:n,r=t===null||Number.isNaN(l)?1/0:l;if(s>r){const a=s;s=r,r=a}return[s,r]};ot.autoRemove=e=>J(e)||J(e[0])&&J(e[1]);const te={includesString:Ft,includesStringSensitive:$t,equalsString:Vt,arrIncludes:It,arrIncludesAll:Mt,arrIncludesSome:Dt,equals:Pt,weakEquals:Et,inNumberRange:ot};function J(e){return e==null||e===""}const Xn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:j("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,o)=>{e.getAutoFilterFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);return typeof n=="string"?te.includesString:typeof n=="number"?te.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?te.equals:Array.isArray(n)?te.arrIncludes:te.weakEquals},e.getFilterFn=()=>{var t,n;return Ee(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(n=o.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?t:te[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,n,l;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((n=o.options.enableColumnFilters)!=null?n:!0)&&((l=o.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=o.getState().columnFilters)==null||(t=t.find(n=>n.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,n;return(t=(n=o.getState().columnFilters)==null?void 0:n.findIndex(l=>l.id===e.id))!=null?t:-1},e.setFilterValue=t=>{o.setColumnFilters(n=>{const l=e.getFilterFn(),s=n?.find(f=>f.id===e.id),r=se(t,s?s.value:void 0);if(ut(l,r,e)){var a;return(a=n?.filter(f=>f.id!==e.id))!=null?a:[]}const u={id:e.id,value:r};if(s){var g;return(g=n?.map(f=>f.id===e.id?u:f))!=null?g:[]}return n!=null&&n.length?[...n,u]:[u]})}},createRow:(e,o)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=o=>{const t=e.getAllLeafColumns(),n=l=>{var s;return(s=se(o,l))==null?void 0:s.filter(r=>{const a=t.find(u=>u.id===r.id);if(a){const u=a.getFilterFn();if(ut(u,r.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=o=>{var t,n;e.setColumnFilters(o?[]:(t=(n=e.initialState)==null?void 0:n.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ut(e,o,t){return(e&&e.autoRemove?e.autoRemove(o,t):!1)||typeof o>"u"||typeof o=="string"&&!o}const Yn=(e,o,t)=>t.reduce((n,l)=>{const s=l.getValue(e);return n+(typeof s=="number"?s:0)},0),Wn=(e,o,t)=>{let n;return t.forEach(l=>{const s=l.getValue(e);s!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}),n},Jn=(e,o,t)=>{let n;return t.forEach(l=>{const s=l.getValue(e);s!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}),n},Qn=(e,o,t)=>{let n,l;return t.forEach(s=>{const r=s.getValue(e);r!=null&&(n===void 0?r>=r&&(n=l=r):(n>r&&(n=r),l<r&&(l=r)))}),[n,l]},Zn=(e,o)=>{let t=0,n=0;if(o.forEach(l=>{let s=l.getValue(e);s!=null&&(s=+s)>=s&&(++t,n+=s)}),t)return n/t},eo=(e,o)=>{if(!o.length)return;const t=o.map(s=>s.getValue(e));if(!Nn(t))return;if(t.length===1)return t[0];const n=Math.floor(t.length/2),l=t.sort((s,r)=>s-r);return t.length%2!==0?l[n]:(l[n-1]+l[n])/2},to=(e,o)=>Array.from(new Set(o.map(t=>t.getValue(e))).values()),no=(e,o)=>new Set(o.map(t=>t.getValue(e))).size,oo=(e,o)=>o.length,be={sum:Yn,min:Wn,max:Jn,extent:Qn,mean:Zn,median:eo,unique:to,uniqueCount:no,count:oo},lo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var o,t;return(o=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?o:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:j("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,o)=>{e.toggleGrouping=()=>{o.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(n=>n!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,n;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((n=o.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);if(typeof n=="number")return be.sum;if(Object.prototype.toString.call(n)==="[object Date]")return be.extent},e.getAggregationFn=()=>{var t,n;if(!e)throw new Error;return Ee(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(n=o.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?t:be[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=o=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(o),e.resetGrouping=o=>{var t,n;e.setGrouping(o?[]:(t=(n=e.initialState)==null?void 0:n.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,o)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const n=o.getColumn(t);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[t]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,o,t,n)=>{e.getIsGrouped=()=>o.getIsGrouped()&&o.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&o.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=t.subRows)!=null&&l.length)}}};function so(e,o,t){if(!(o!=null&&o.length)||!t)return e;const n=e.filter(s=>!o.includes(s.id));return t==="remove"?n:[...o.map(s=>e.find(r=>r.id===s)).filter(Boolean),...n]}const ro={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:j("columnOrder",e)}),createColumn:(e,o)=>{e.getIndex=y(t=>[ce(o,t)],t=>t.findIndex(n=>n.id===e.id),F(o.options,"debugColumns")),e.getIsFirstColumn=t=>{var n;return((n=ce(o,t)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=t=>{var n;const l=ce(o,t);return((n=l[l.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=o=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(o),e.resetColumnOrder=o=>{var t;e.setColumnOrder(o?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=y(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(o,t,n)=>l=>{let s=[];if(!(o!=null&&o.length))s=l;else{const r=[...o],a=[...l];for(;a.length&&r.length;){const u=r.shift(),g=a.findIndex(f=>f.id===u);g>-1&&s.push(a.splice(g,1)[0])}s=[...s,...a]}return so(s,t,n)},F(e.options,"debugTable"))}},ze=()=>({left:[],right:[]}),io={getInitialState:e=>({columnPinning:ze(),...e}),getDefaultOptions:e=>({onColumnPinningChange:j("columnPinning",e)}),createColumn:(e,o)=>{e.pin=t=>{const n=e.getLeafColumns().map(l=>l.id).filter(Boolean);o.setColumnPinning(l=>{var s,r;if(t==="right"){var a,u;return{left:((a=l?.left)!=null?a:[]).filter(v=>!(n!=null&&n.includes(v))),right:[...((u=l?.right)!=null?u:[]).filter(v=>!(n!=null&&n.includes(v))),...n]}}if(t==="left"){var g,f;return{left:[...((g=l?.left)!=null?g:[]).filter(v=>!(n!=null&&n.includes(v))),...n],right:((f=l?.right)!=null?f:[]).filter(v=>!(n!=null&&n.includes(v)))}}return{left:((s=l?.left)!=null?s:[]).filter(v=>!(n!=null&&n.includes(v))),right:((r=l?.right)!=null?r:[]).filter(v=>!(n!=null&&n.includes(v)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var l,s,r;return((l=n.columnDef.enablePinning)!=null?l:!0)&&((s=(r=o.options.enableColumnPinning)!=null?r:o.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:n,right:l}=o.getState().columnPinning,s=t.some(a=>n?.includes(a)),r=t.some(a=>l?.includes(a));return s?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,n;const l=e.getIsPinned();return l?(t=(n=o.getState().columnPinning)==null||(n=n[l])==null?void 0:n.indexOf(e.id))!=null?t:-1:0}},createRow:(e,o)=>{e.getCenterVisibleCells=y(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left,o.getState().columnPinning.right],(t,n,l)=>{const s=[...n??[],...l??[]];return t.filter(r=>!s.includes(r.column.id))},F(o.options,"debugRows")),e.getLeftVisibleCells=y(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left],(t,n)=>(n??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),F(o.options,"debugRows")),e.getRightVisibleCells=y(()=>[e._getAllVisibleCells(),o.getState().columnPinning.right],(t,n)=>(n??[]).map(s=>t.find(r=>r.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),F(o.options,"debugRows"))},createTable:e=>{e.setColumnPinning=o=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(o),e.resetColumnPinning=o=>{var t,n;return e.setColumnPinning(o?ze():(t=(n=e.initialState)==null?void 0:n.columnPinning)!=null?t:ze())},e.getIsSomeColumnsPinned=o=>{var t;const n=e.getState().columnPinning;if(!o){var l,s;return!!((l=n.left)!=null&&l.length||(s=n.right)!=null&&s.length)}return!!((t=n[o])!=null&&t.length)},e.getLeftLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(o,t)=>(t??[]).map(n=>o.find(l=>l.id===n)).filter(Boolean),F(e.options,"debugColumns")),e.getRightLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(o,t)=>(t??[]).map(n=>o.find(l=>l.id===n)).filter(Boolean),F(e.options,"debugColumns")),e.getCenterLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n)=>{const l=[...t??[],...n??[]];return o.filter(s=>!l.includes(s.id))},F(e.options,"debugColumns"))}};function ao(e){return e||(typeof document<"u"?document:null)}const Se={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ge=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),uo={getDefaultColumnDef:()=>Se,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ge(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:j("columnSizing",e),onColumnSizingInfoChange:j("columnSizingInfo",e)}),createColumn:(e,o)=>{e.getSize=()=>{var t,n,l;const s=o.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Se.minSize,(n=s??e.columnDef.size)!=null?n:Se.size),(l=e.columnDef.maxSize)!=null?l:Se.maxSize)},e.getStart=y(t=>[t,ce(o,t),o.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((l,s)=>l+s.getSize(),0),F(o.options,"debugColumns")),e.getAfter=y(t=>[t,ce(o,t),o.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((l,s)=>l+s.getSize(),0),F(o.options,"debugColumns")),e.resetSize=()=>{o.setColumnSizing(t=>{let{[e.id]:n,...l}=t;return l})},e.getCanResize=()=>{var t,n;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((n=o.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>o.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,o)=>{e.getSize=()=>{let t=0;const n=l=>{if(l.subHeaders.length)l.subHeaders.forEach(n);else{var s;t+=(s=l.column.getSize())!=null?s:0}};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const n=o.getColumn(e.column.id),l=n?.getCanResize();return s=>{if(!n||!l||(s.persist==null||s.persist(),Le(s)&&s.touches&&s.touches.length>1))return;const r=e.getSize(),a=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[n.id,n.getSize()]],u=Le(s)?Math.round(s.touches[0].clientX):s.clientX,g={},f=(x,k)=>{typeof k=="number"&&(o.setColumnSizingInfo(E=>{var D,R;const C=o.options.columnResizeDirection==="rtl"?-1:1,V=(k-((D=E?.startOffset)!=null?D:0))*C,A=Math.max(V/((R=E?.startSize)!=null?R:0),-.999999);return E.columnSizingStart.forEach(q=>{let[ne,P]=q;g[ne]=Math.round(Math.max(P+P*A,0)*100)/100}),{...E,deltaOffset:V,deltaPercentage:A}}),(o.options.columnResizeMode==="onChange"||x==="end")&&o.setColumnSizing(E=>({...E,...g})))},v=x=>f("move",x),c=x=>{f("end",x),o.setColumnSizingInfo(k=>({...k,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=ao(t),_={moveHandler:x=>v(x.clientX),upHandler:x=>{d?.removeEventListener("mousemove",_.moveHandler),d?.removeEventListener("mouseup",_.upHandler),c(x.clientX)}},m={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),v(x.touches[0].clientX),!1),upHandler:x=>{var k;d?.removeEventListener("touchmove",m.moveHandler),d?.removeEventListener("touchend",m.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),c((k=x.touches[0])==null?void 0:k.clientX)}},S=go()?{passive:!1}:!1;Le(s)?(d?.addEventListener("touchmove",m.moveHandler,S),d?.addEventListener("touchend",m.upHandler,S)):(d?.addEventListener("mousemove",_.moveHandler,S),d?.addEventListener("mouseup",_.upHandler,S)),o.setColumnSizingInfo(x=>({...x,startOffset:u,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=o=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(o),e.setColumnSizingInfo=o=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(o),e.resetColumnSizing=o=>{var t;e.setColumnSizing(o?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=o=>{var t;e.setColumnSizingInfo(o?Ge():(t=e.initialState.columnSizingInfo)!=null?t:Ge())},e.getTotalSize=()=>{var o,t;return(o=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getLeftTotalSize=()=>{var o,t;return(o=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getCenterTotalSize=()=>{var o,t;return(o=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getRightTotalSize=()=>{var o,t;return(o=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0}}};let he=null;function go(){if(typeof he=="boolean")return he;let e=!1;try{const o={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,o),window.removeEventListener("test",t)}catch{e=!1}return he=e,he}function Le(e){return e.type==="touchstart"}const co={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:j("columnVisibility",e)}),createColumn:(e,o)=>{e.toggleVisibility=t=>{e.getCanHide()&&o.setColumnVisibility(n=>({...n,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,n;const l=e.columns;return(t=l.length?l.some(s=>s.getIsVisible()):(n=o.getState().columnVisibility)==null?void 0:n[e.id])!=null?t:!0},e.getCanHide=()=>{var t,n;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((n=o.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,o)=>{e._getAllVisibleCells=y(()=>[e.getAllCells(),o.getState().columnVisibility],t=>t.filter(n=>n.column.getIsVisible()),F(o.options,"debugRows")),e.getVisibleCells=y(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,n,l)=>[...t,...n,...l],F(o.options,"debugRows"))},createTable:e=>{const o=(t,n)=>y(()=>[n(),n().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),F(e.options,"debugColumns"));e.getVisibleFlatColumns=o("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=o("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=o("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=o("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=o("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,s)=>({...l,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function ce(e,o){return o?o==="center"?e.getCenterVisibleLeafColumns():o==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const fo={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},po={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:j("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:o=>{var t;const n=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[o.id])==null?void 0:t.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,o)=>{e.getCanGlobalFilter=()=>{var t,n,l,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((n=o.options.enableGlobalFilter)!=null?n:!0)&&((l=o.options.enableFilters)!=null?l:!0)&&((s=o.options.getColumnCanGlobalFilter==null?void 0:o.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>te.includesString,e.getGlobalFilterFn=()=>{var o,t;const{globalFilterFn:n}=e.options;return Ee(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(o=(t=e.options.filterFns)==null?void 0:t[n])!=null?o:te[n]},e.setGlobalFilter=o=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(o)},e.resetGlobalFilter=o=>{e.setGlobalFilter(o?void 0:e.initialState.globalFilter)}}},mo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:j("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let o=!1,t=!1;e._autoResetExpanded=()=>{var n,l;if(!o){e._queue(()=>{o=!0});return}if((n=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var l,s;e.setExpanded(n?{}:(l=(s=e.initialState)==null?void 0:s.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const r=s.split(".");n=Math.max(n,r.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,o)=>{e.toggleExpanded=t=>{o.setExpanded(n=>{var l;const s=n===!0?!0:!!(n!=null&&n[e.id]);let r={};if(n===!0?Object.keys(o.getRowModel().rowsById).forEach(a=>{r[a]=!0}):r=n,t=(l=t)!=null?l:!s,!s&&t)return{...r,[e.id]:!0};if(s&&!t){const{[e.id]:a,...u}=r;return u}return n})},e.getIsExpanded=()=>{var t;const n=o.getState().expanded;return!!((t=o.options.getIsRowExpanded==null?void 0:o.options.getIsRowExpanded(e))!=null?t:n===!0||n?.[e.id])},e.getCanExpand=()=>{var t,n,l;return(t=o.options.getRowCanExpand==null?void 0:o.options.getRowCanExpand(e))!=null?t:((n=o.options.enableExpanding)!=null?n:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let t=!0,n=e;for(;t&&n.parentId;)n=o.getRow(n.parentId,!0),t=n.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},qe=0,Ue=10,Oe=()=>({pageIndex:qe,pageSize:Ue}),vo={getInitialState:e=>({...e,pagination:{...Oe(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:j("pagination",e)}),createTable:e=>{let o=!1,t=!1;e._autoResetPageIndex=()=>{var n,l;if(!o){e._queue(()=>{o=!0});return}if((n=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=n=>{const l=s=>se(n,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=n=>{var l;e.setPagination(n?Oe():(l=e.initialState.pagination)!=null?l:Oe())},e.setPageIndex=n=>{e.setPagination(l=>{let s=se(n,l.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,r)),{...l,pageIndex:s}})},e.resetPageIndex=n=>{var l,s;e.setPageIndex(n?qe:(l=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?l:qe)},e.resetPageSize=n=>{var l,s;e.setPageSize(n?Ue:(l=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?l:Ue)},e.setPageSize=n=>{e.setPagination(l=>{const s=Math.max(1,se(n,l.pageSize)),r=l.pageSize*l.pageIndex,a=Math.floor(r/s);return{...l,pageIndex:a,pageSize:s}})},e.setPageCount=n=>e.setPagination(l=>{var s;let r=se(n,(s=e.options.pageCount)!=null?s:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...l,pageCount:r}}),e.getPageOptions=y(()=>[e.getPageCount()],n=>{let l=[];return n&&n>0&&(l=[...new Array(n)].fill(null).map((s,r)=>r)),l},F(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:n<l-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},He=()=>({top:[],bottom:[]}),_o={getInitialState:e=>({rowPinning:He(),...e}),getDefaultOptions:e=>({onRowPinningChange:j("rowPinning",e)}),createRow:(e,o)=>{e.pin=(t,n,l)=>{const s=n?e.getLeafRows().map(u=>{let{id:g}=u;return g}):[],r=l?e.getParentRows().map(u=>{let{id:g}=u;return g}):[],a=new Set([...r,e.id,...s]);o.setRowPinning(u=>{var g,f;if(t==="bottom"){var v,c;return{top:((v=u?.top)!=null?v:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((c=u?.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(t==="top"){var d,_;return{top:[...((d=u?.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((_=u?.bottom)!=null?_:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((g=u?.top)!=null?g:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((f=u?.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:n,enablePinning:l}=o.options;return typeof n=="function"?n(e):(t=n??l)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:n,bottom:l}=o.getState().rowPinning,s=t.some(a=>n?.includes(a)),r=t.some(a=>l?.includes(a));return s?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,n;const l=e.getIsPinned();if(!l)return-1;const s=(t=l==="top"?o.getTopRows():o.getBottomRows())==null?void 0:t.map(r=>{let{id:a}=r;return a});return(n=s?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=o=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(o),e.resetRowPinning=o=>{var t,n;return e.setRowPinning(o?He():(t=(n=e.initialState)==null?void 0:n.rowPinning)!=null?t:He())},e.getIsSomeRowsPinned=o=>{var t;const n=e.getState().rowPinning;if(!o){var l,s;return!!((l=n.top)!=null&&l.length||(s=n.bottom)!=null&&s.length)}return!!((t=n[o])!=null&&t.length)},e._getPinnedRows=(o,t,n)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(t??[]).map(r=>{const a=e.getRow(r,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(r=>o.find(a=>a.id===r))).filter(Boolean).map(r=>({...r,position:n}))},e.getTopRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(o,t)=>e._getPinnedRows(o,t,"top"),F(e.options,"debugRows")),e.getBottomRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(o,t)=>e._getPinnedRows(o,t,"bottom"),F(e.options,"debugRows")),e.getCenterRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(o,t,n)=>{const l=new Set([...t??[],...n??[]]);return o.filter(s=>!l.has(s.id))},F(e.options,"debugRows"))}},wo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:j("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=o=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(o),e.resetRowSelection=o=>{var t;return e.setRowSelection(o?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=o=>{e.setRowSelection(t=>{o=typeof o<"u"?o:!e.getIsAllRowsSelected();const n={...t},l=e.getPreGroupedRowModel().flatRows;return o?l.forEach(s=>{s.getCanSelect()&&(n[s.id]=!0)}):l.forEach(s=>{delete n[s.id]}),n})},e.toggleAllPageRowsSelected=o=>e.setRowSelection(t=>{const n=typeof o<"u"?o:!e.getIsAllPageRowsSelected(),l={...t};return e.getRowModel().rows.forEach(s=>{je(l,s.id,n,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=y(()=>[e.getState().rowSelection,e.getCoreRowModel()],(o,t)=>Object.keys(o).length?Be(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getFilteredSelectedRowModel=y(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(o,t)=>Object.keys(o).length?Be(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getGroupedSelectedRowModel=y(()=>[e.getState().rowSelection,e.getSortedRowModel()],(o,t)=>Object.keys(o).length?Be(e,t):{rows:[],flatRows:[],rowsById:{}},F(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const o=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let n=!!(o.length&&Object.keys(t).length);return n&&o.some(l=>l.getCanSelect()&&!t[l.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:t}=e.getState();let n=!!o.length;return n&&o.some(l=>!t[l.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var o;const t=Object.keys((o=e.getState().rowSelection)!=null?o:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:o.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>o=>{e.toggleAllRowsSelected(o.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>o=>{e.toggleAllPageRowsSelected(o.target.checked)}},createRow:(e,o)=>{e.toggleSelected=(t,n)=>{const l=e.getIsSelected();o.setRowSelection(s=>{var r;if(t=typeof t<"u"?t:!l,e.getCanSelect()&&l===t)return s;const a={...s};return je(a,e.id,t,(r=n?.selectChildren)!=null?r:!0,o),a})},e.getIsSelected=()=>{const{rowSelection:t}=o.getState();return lt(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=o.getState();return Ke(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=o.getState();return Ke(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof o.options.enableRowSelection=="function"?o.options.enableRowSelection(e):(t=o.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof o.options.enableSubRowSelection=="function"?o.options.enableSubRowSelection(e):(t=o.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof o.options.enableMultiRowSelection=="function"?o.options.enableMultiRowSelection(e):(t=o.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var l;t&&e.toggleSelected((l=n.target)==null?void 0:l.checked)}}}},je=(e,o,t,n,l)=>{var s;const r=l.getRow(o,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),r.getCanSelect()&&(e[o]=!0)):delete e[o],n&&(s=r.subRows)!=null&&s.length&&r.getCanSelectSubRows()&&r.subRows.forEach(a=>je(e,a.id,t,n,l))};function Be(e,o){const t=e.getState().rowSelection,n=[],l={},s=function(r,a){return r.map(u=>{var g;const f=lt(u,t);if(f&&(n.push(u),l[u.id]=u),(g=u.subRows)!=null&&g.length&&(u={...u,subRows:s(u.subRows)}),f)return u}).filter(Boolean)};return{rows:s(o.rows),flatRows:n,rowsById:l}}function lt(e,o){var t;return(t=o[e.id])!=null?t:!1}function Ke(e,o,t){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let l=!0,s=!1;return e.subRows.forEach(r=>{if(!(s&&!l)&&(r.getCanSelect()&&(lt(r,o)?s=!0:l=!1),r.subRows&&r.subRows.length)){const a=Ke(r,o);a==="all"?s=!0:(a==="some"&&(s=!0),l=!1)}}),l?"all":s?"some":!1}const Xe=/([0-9]+)/gm,So=(e,o,t)=>kt(re(e.getValue(t)).toLowerCase(),re(o.getValue(t)).toLowerCase()),ho=(e,o,t)=>kt(re(e.getValue(t)),re(o.getValue(t))),Co=(e,o,t)=>st(re(e.getValue(t)).toLowerCase(),re(o.getValue(t)).toLowerCase()),xo=(e,o,t)=>st(re(e.getValue(t)),re(o.getValue(t))),Ro=(e,o,t)=>{const n=e.getValue(t),l=o.getValue(t);return n>l?1:n<l?-1:0},yo=(e,o,t)=>st(e.getValue(t),o.getValue(t));function st(e,o){return e===o?0:e>o?1:-1}function re(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function kt(e,o){const t=e.split(Xe).filter(Boolean),n=o.split(Xe).filter(Boolean);for(;t.length&&n.length;){const l=t.shift(),s=n.shift(),r=parseInt(l,10),a=parseInt(s,10),u=[r,a].sort();if(isNaN(u[0])){if(l>s)return 1;if(s>l)return-1;continue}if(isNaN(u[1]))return isNaN(r)?-1:1;if(r>a)return 1;if(a>r)return-1}return t.length-n.length}const ae={alphanumeric:So,alphanumericCaseSensitive:ho,text:Co,textCaseSensitive:xo,datetime:Ro,basic:yo},Fo={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:j("sorting",e),isMultiSortEvent:o=>o.shiftKey}),createColumn:(e,o)=>{e.getAutoSortingFn=()=>{const t=o.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const l of t){const s=l?.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return ae.datetime;if(typeof s=="string"&&(n=!0,s.split(Xe).length>1))return ae.alphanumeric}return n?ae.text:ae.basic},e.getAutoSortDir=()=>{const t=o.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,n;if(!e)throw new Error;return Ee(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(n=o.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?t:ae[e.columnDef.sortingFn]},e.toggleSorting=(t,n)=>{const l=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;o.setSorting(r=>{const a=r?.find(d=>d.id===e.id),u=r?.findIndex(d=>d.id===e.id);let g=[],f,v=s?t:l==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&n?a?f="toggle":f="add":r!=null&&r.length&&u!==r.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(s||l||(f="remove")),f==="add"){var c;g=[...r,{id:e.id,desc:v}],g.splice(0,g.length-((c=o.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else f==="toggle"?g=r.map(d=>d.id===e.id?{...d,desc:v}:d):f==="remove"?g=r.filter(d=>d.id!==e.id):g=[{id:e.id,desc:v}];return g})},e.getFirstSortDir=()=>{var t,n;return((t=(n=e.columnDef.sortDescFirst)!=null?n:o.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var n,l;const s=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==s&&((n=o.options.enableSortingRemoval)==null||n)&&(!(t&&(l=o.options.enableMultiRemove)!=null)||l)?!1:r==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,n;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((n=o.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,n;return(t=(n=e.columnDef.enableMultiSort)!=null?n:o.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const n=(t=o.getState().sorting)==null?void 0:t.find(l=>l.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,n;return(t=(n=o.getState().sorting)==null?void 0:n.findIndex(l=>l.id===e.id))!=null?t:-1},e.clearSorting=()=>{o.setSorting(t=>t!=null&&t.length?t.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return n=>{t&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?o.options.isMultiSortEvent==null?void 0:o.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=o=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(o),e.resetSorting=o=>{var t,n;e.setSorting(o?[]:(t=(n=e.initialState)==null?void 0:n.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},$o=[jn,co,ro,io,Kn,Xn,fo,po,Fo,lo,mo,vo,_o,wo,uo];function Vo(e){var o,t;const n=[...$o,...(o=e._features)!=null?o:[]];let l={_features:n};const s=l._features.reduce((c,d)=>Object.assign(c,d.getDefaultOptions==null?void 0:d.getDefaultOptions(l)),{}),r=c=>l.options.mergeOptions?l.options.mergeOptions(s,c):{...s,...c};let u={...{},...(t=e.initialState)!=null?t:{}};l._features.forEach(c=>{var d;u=(d=c.getInitialState==null?void 0:c.getInitialState(u))!=null?d:u});const g=[];let f=!1;const v={_features:n,options:{...s,...e},initialState:u,_queue:c=>{g.push(c),f||(f=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();f=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{l.setState(l.initialState)},setOptions:c=>{const d=se(c,l.options);l.options=r(d)},getState:()=>l.options.state,setState:c=>{l.options.onStateChange==null||l.options.onStateChange(c)},_getRowId:(c,d,_)=>{var m;return(m=l.options.getRowId==null?void 0:l.options.getRowId(c,d,_))!=null?m:`${_?[_.id,d].join("."):d}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(c,d)=>{let _=(d?l.getPrePaginationRowModel():l.getRowModel()).rowsById[c];if(!_&&(_=l.getCoreRowModel().rowsById[c],!_))throw new Error;return _},_getDefaultColumnDef:y(()=>[l.options.defaultColumn],c=>{var d;return c=(d=c)!=null?d:{},{header:_=>{const m=_.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:_=>{var m,S;return(m=(S=_.renderValue())==null||S.toString==null?void 0:S.toString())!=null?m:null},...l._features.reduce((_,m)=>Object.assign(_,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...c}},F(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:y(()=>[l._getColumnDefs()],c=>{const d=function(_,m,S){return S===void 0&&(S=0),_.map(x=>{const k=Un(l,x,S,m),E=x;return k.columns=E.columns?d(E.columns,k,S+1):[],k})};return d(c)},F(e,"debugColumns")),getAllFlatColumns:y(()=>[l.getAllColumns()],c=>c.flatMap(d=>d.getFlatColumns()),F(e,"debugColumns")),_getAllFlatColumnsById:y(()=>[l.getAllFlatColumns()],c=>c.reduce((d,_)=>(d[_.id]=_,d),{}),F(e,"debugColumns")),getAllLeafColumns:y(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(c,d)=>{let _=c.flatMap(m=>m.getLeafColumns());return d(_)},F(e,"debugColumns")),getColumn:c=>l._getAllFlatColumnsById()[c]};Object.assign(l,v);for(let c=0;c<l._features.length;c++){const d=l._features[c];d==null||d.createTable==null||d.createTable(l)}return l}function Io(){return e=>y(()=>[e.options.data],o=>{const t={rows:[],flatRows:[],rowsById:{}},n=function(l,s,r){s===void 0&&(s=0);const a=[];for(let g=0;g<l.length;g++){const f=nt(e,e._getRowId(l[g],g,r),l[g],g,s,void 0,r?.id);if(t.flatRows.push(f),t.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var u;f.originalSubRows=e.options.getSubRows(l[g],g),(u=f.originalSubRows)!=null&&u.length&&(f.subRows=n(f.originalSubRows,s+1,f))}}return a};return t.rows=n(o),t},F(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Mo(e){const o=[],t=n=>{var l;o.push(n),(l=n.subRows)!=null&&l.length&&n.getIsExpanded()&&n.subRows.forEach(t)};return e.rows.forEach(t),{rows:o,flatRows:e.flatRows,rowsById:e.rowsById}}function Do(e,o,t){return t.options.filterFromLeafRows?Po(e,o,t):Eo(e,o,t)}function Po(e,o,t){var n;const l=[],s={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,g){g===void 0&&(g=0);const f=[];for(let c=0;c<u.length;c++){var v;let d=u[c];const _=nt(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(_.columnFilters=d.columnFilters,(v=d.subRows)!=null&&v.length&&g<r){if(_.subRows=a(d.subRows,g+1),d=_,o(d)&&!_.subRows.length){f.push(d),s[d.id]=d,l.push(d);continue}if(o(d)||_.subRows.length){f.push(d),s[d.id]=d,l.push(d);continue}}else d=_,o(d)&&(f.push(d),s[d.id]=d,l.push(d))}return f};return{rows:a(e),flatRows:l,rowsById:s}}function Eo(e,o,t){var n;const l=[],s={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,g){g===void 0&&(g=0);const f=[];for(let c=0;c<u.length;c++){let d=u[c];if(o(d)){var v;if((v=d.subRows)!=null&&v.length&&g<r){const m=nt(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);m.subRows=a(d.subRows,g+1),d=m}f.push(d),l.push(d),s[d.id]=d}}return f};return{rows:a(e),flatRows:l,rowsById:s}}function ko(){return e=>y(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(o,t,n)=>{if(!o.rows.length||!(t!=null&&t.length)&&!n){for(let c=0;c<o.flatRows.length;c++)o.flatRows[c].columnFilters={},o.flatRows[c].columnFiltersMeta={};return o}const l=[],s=[];(t??[]).forEach(c=>{var d;const _=e.getColumn(c.id);if(!_)return;const m=_.getFilterFn();m&&l.push({id:c.id,filterFn:m,resolvedValue:(d=m.resolveFilterValue==null?void 0:m.resolveFilterValue(c.value))!=null?d:c.value})});const r=(t??[]).map(c=>c.id),a=e.getGlobalFilterFn(),u=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());n&&a&&u.length&&(r.push("__global__"),u.forEach(c=>{var d;s.push({id:c.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(n))!=null?d:n})}));let g,f;for(let c=0;c<o.flatRows.length;c++){const d=o.flatRows[c];if(d.columnFilters={},l.length)for(let _=0;_<l.length;_++){g=l[_];const m=g.id;d.columnFilters[m]=g.filterFn(d,m,g.resolvedValue,S=>{d.columnFiltersMeta[m]=S})}if(s.length){for(let _=0;_<s.length;_++){f=s[_];const m=f.id;if(f.filterFn(d,m,f.resolvedValue,S=>{d.columnFiltersMeta[m]=S})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const v=c=>{for(let d=0;d<r.length;d++)if(c.columnFilters[r[d]]===!1)return!1;return!0};return Do(o.rows,v,e)},F(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Ao(e){return o=>y(()=>[o.getState().pagination,o.getPrePaginationRowModel(),o.options.paginateExpandedRows?void 0:o.getState().expanded],(t,n)=>{if(!n.rows.length)return n;const{pageSize:l,pageIndex:s}=t;let{rows:r,flatRows:a,rowsById:u}=n;const g=l*s,f=g+l;r=r.slice(g,f);let v;o.options.paginateExpandedRows?v={rows:r,flatRows:a,rowsById:u}:v=Mo({rows:r,flatRows:a,rowsById:u}),v.flatRows=[];const c=d=>{v.flatRows.push(d),d.subRows.length&&d.subRows.forEach(c)};return v.rows.forEach(c),v},F(o.options,"debugTable"))}function bo(){return e=>y(()=>[e.getState().sorting,e.getPreSortedRowModel()],(o,t)=>{if(!t.rows.length||!(o!=null&&o.length))return t;const n=e.getState().sorting,l=[],s=n.filter(u=>{var g;return(g=e.getColumn(u.id))==null?void 0:g.getCanSort()}),r={};s.forEach(u=>{const g=e.getColumn(u.id);g&&(r[u.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const a=u=>{const g=u.map(f=>({...f}));return g.sort((f,v)=>{for(let d=0;d<s.length;d+=1){var c;const _=s[d],m=r[_.id],S=m.sortUndefined,x=(c=_?.desc)!=null?c:!1;let k=0;if(S){const E=f.getValue(_.id),D=v.getValue(_.id),R=E===void 0,C=D===void 0;if(R||C){if(S==="first")return R?-1:1;if(S==="last")return R?1:-1;k=R&&C?0:R?S:-S}}if(k===0&&(k=m.sortingFn(f,v,_.id)),k!==0)return x&&(k*=-1),m.invertSorting&&(k*=-1),k}return f.index-v.index}),g.forEach(f=>{var v;l.push(f),(v=f.subRows)!=null&&v.length&&(f.subRows=a(f.subRows))}),g};return{rows:a(t.rows),flatRows:l,rowsById:t.rowsById}},F(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ce(){return!0}const zo=Symbol("merge-proxy"),Go={get(e,o,t){return o===zo?t:e.get(o)},has(e,o){return e.has(o)},set:Ce,deleteProperty:Ce,getOwnPropertyDescriptor(e,o){return{configurable:!0,enumerable:!0,get(){return e.get(o)},set:Ce,deleteProperty:Ce}},ownKeys(e){return e.keys()}};function Ne(e){return"value"in e?e.value:e}function ue(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return new Proxy({get(n){for(let l=o.length-1;l>=0;l--){const s=Ne(o[l])[n];if(s!==void 0)return s}},has(n){for(let l=o.length-1;l>=0;l--)if(n in Ne(o[l]))return!0;return!1},keys(){const n=[];for(let l=0;l<o.length;l++)n.push(...Object.keys(Ne(o[l])));return[...Array.from(new Set(n))]}},Go)}const dt=W({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?z(e.render,e.props):e.render});function gt(e){return ue(e,{data:i(e.data)})}function Lo(e){const o=At(e.data),t=ue({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(s,r){return o?{...s,...r}:ue(s,r)}},o?gt(e):e),n=Vo(t);if(o){const s=bt(e.data);xe(s,()=>{n.setState(r=>({...r,data:s.value}))},{immediate:!0})}const l=N(n.initialState);return zt(()=>{n.setOptions(s=>{var r;const a=new Proxy({},{get:(u,g)=>l.value[g]});return ue(s,o?gt(e):e,{state:ue(a,(r=e.state)!=null?r:{}),onStateChange:u=>{u instanceof Function?l.value=u(l.value):l.value=u,e.onStateChange==null||e.onStateChange(u)}})})}),n}const Oo={class:"flex flex-col border-b border-border/10 last:border-0 hover:bg-muted/5 transition-colors"},Ho={class:"flex items-center gap-3 flex-1 min-w-0"},Bo={class:"truncate flex-1"},No={class:"font-medium truncate text-sm leading-tight"},To={class:"flex items-center text-[10px] text-muted-foreground gap-1.5 mt-0.5"},qo={key:0,class:"text-amber-500 font-medium flex items-center gap-1"},Uo={key:1,class:"truncate"},jo={class:"text-right shrink-0"},Ko={class:"font-bold text-sm"},Xo=W({__name:"ExpenseCard",props:{expense:{}},emits:["edit","delete"],setup(e,{emit:o}){const t=e,n=X(()=>new Date(t.expense.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),l=X(()=>{const s=parseFloat(t.expense.amount);return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(s)});return(s,r)=>(I(),T("div",Oo,[h("div",{class:"p-3 flex items-center justify-between gap-3",onClick:r[0]||(r[0]=a=>s.$emit("edit",s.expense))},[h("div",Ho,[h("div",{class:"w-2 h-2 rounded-full shrink-0",style:We({backgroundColor:s.expense.category?.color||"#6B7280"})},null,4),h("div",Bo,[h("h3",No,L(s.expense.description),1),h("div",To,[h("span",null,L(n.value),1),r[1]||(r[1]=h("span",{class:"w-0.5 h-0.5 rounded-full bg-muted-foreground/40"},null,-1)),s.expense.isOffline?(I(),T("span",qo," Offline ")):(I(),T("span",Uo,L(s.expense.category?.name||"Uncategorized"),1))])])]),h("div",jo,[h("div",Ko,L(l.value),1)])])]))}}),Yo={class:"w-full"},Wo={class:"hidden md:flex flex-col gap-4 py-4 md:flex-row md:items-center"},Jo={class:"flex items-center gap-4 md:flex-1"},Qo={class:"w-full md:max-w-sm"},Zo={key:0,class:"flex items-center justify-between p-4 bg-muted/50 border rounded-lg mb-4"},el={class:"flex items-center gap-2"},tl={class:"text-sm font-medium"},nl={class:"flex items-center gap-2"},ol={class:"md:hidden flex flex-col gap-4"},ll={class:"flex items-center justify-between bg-card/50 backdrop-blur-xl border border-border/50 rounded-xl p-2 px-3"},sl={class:"font-medium text-sm"},rl={class:"flex gap-2 overflow-x-auto pb-1 no-scrollbar overflow-y-hidden"},il={class:"bg-card/80 backdrop-blur-xl border border-border/50 rounded-2xl p-5 shadow-sm"},al={class:"flex flex-col items-center text-center gap-1"},ul={class:"text-xs text-muted-foreground uppercase tracking-wider"},dl={class:"text-3xl font-bold tracking-tight mt-1"},gl={class:"text-xs text-muted-foreground font-medium bg-muted/50 px-2 py-0.5 rounded-full mt-2"},cl={class:"flex flex-col pb-24"},fl={class:"bg-card/30 backdrop-blur-sm rounded-xl border border-border/30 overflow-hidden divide-y divide-border/10"},pl={key:0,class:"text-center py-12 text-muted-foreground"},ml={class:"rounded-md border hidden md:block"},vl={class:"flex items-center"},_l={class:"font-bold text-primary"},wl={class:"font-bold text-lg text-primary"},Sl={class:"flex items-center justify-end space-x-2 py-4"},hl={class:"flex-1 text-sm text-muted-foreground"},Cl={class:"space-x-2"},xl=W({__name:"ExpenseDataTable",props:{columns:{},data:{}},emits:["bulkDelete","bulkExport"],setup(e,{emit:o}){const t=e,n=N([]),l=N([]),s=N({}),r=N({}),a=N(""),u=X(()=>{if(!a.value||a.value==="all")return"All Time";const[R,C]=a.value.split("-").map(Number);return new Date(R,C-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),g=R=>{if(!a.value||a.value==="all"){const q=new Date,ne=new Date(q.getFullYear(),q.getMonth()+R,1);a.value=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`;return}const[C,V]=a.value.split("-").map(Number),A=new Date(C,V-1,1);A.setMonth(A.getMonth()+R),a.value=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}`},f=X(()=>{const R=new Date().getFullYear(),C=[];for(let V=0;V<12;V++){const A=new Date(R,V,1),q=`${R}-${String(V+1).padStart(2,"0")}`,ne=A.toLocaleDateString("en-US",{month:"long",year:"numeric"});C.push({value:q,label:ne})}return[{value:"all",label:"All Months"},...C]});vt(()=>{const R=new Date,C=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;a.value=C});const v=X(()=>!a.value||a.value==="all"?t.data:t.data.filter(R=>{const C=new Date(R.date);return`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`===a.value})),c=R=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(R),d=X(()=>{const R=D.getFilteredRowModel().rows,C=R.reduce((V,A)=>{const q=parseFloat(A.original.amount||"0");return V+q},0);return{count:R.length,total:c(C)}}),_=X(()=>D.getFilteredSelectedRowModel().rows.length),m=X(()=>D.getFilteredSelectedRowModel().rows.map(R=>R.original)),S=o,x=()=>{m.value.length>0&&S("bulkDelete",m.value)},k=()=>{m.value.length>0&&S("bulkExport",m.value)},E=()=>{D.resetRowSelection()},D=Lo({get data(){return v.value},get columns(){return t.columns},getCoreRowModel:Io(),getPaginationRowModel:Ao(),getSortedRowModel:bo(),getFilteredRowModel:ko(),onSortingChange:R=>ve(R,n),onColumnFiltersChange:R=>ve(R,l),onColumnVisibilityChange:R=>ve(R,s),onRowSelectionChange:R=>ve(R,r),state:{get sorting(){return n.value},get columnFilters(){return l.value},get columnVisibility(){return s.value},get rowSelection(){return r.value}}});return(R,C)=>(I(),T("div",Yo,[h("div",Wo,[h("div",Jo,[p(i(Je),{modelValue:a.value,"onUpdate:modelValue":C[0]||(C[0]=V=>a.value=V)},{default:w(()=>[p(i(Qe),{class:"w-[200px] md:w-[180px]"},{default:w(()=>[p(i(Tt),{class:"mr-2 h-4 w-4"}),p(i(Ze),{placeholder:"Select month"})]),_:1}),p(i(et),null,{default:w(()=>[(I(!0),T(Q,null,ee(f.value,V=>(I(),O(i(Re),{key:V.value,value:V.value},{default:w(()=>[M(L(V.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),p(i(ht),null,{default:w(()=>[p(i(Ct),{"as-child":""},{default:w(()=>[p(i(H),{variant:"outline",class:"md:ml-auto"},{default:w(()=>[C[8]||(C[8]=M(" Columns ",-1)),p(i(qt),{class:"ml-2 h-4 w-4"})]),_:1,__:[8]})]),_:1}),p(i(xt),{align:"end"},{default:w(()=>[(I(!0),T(Q,null,ee(i(D).getAllColumns().filter(V=>V.getCanHide()),V=>(I(),O(i(Vn),{key:V.id,class:"capitalize","model-value":V.getIsVisible(),"onUpdate:modelValue":A=>{V.toggleVisibility(!!A)}},{default:w(()=>[M(L(V.id),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1})]),h("div",Qo,[p(i(fe),{class:"w-full",placeholder:"Filter by description...","model-value":String(i(D).getColumn("description")?.getFilterValue()??""),"onUpdate:modelValue":C[1]||(C[1]=V=>i(D).getColumn("description")?.setFilterValue(V))},null,8,["model-value"])])]),_.value>0?(I(),T("div",Zo,[h("div",el,[h("span",tl,L(_.value)+" expense(s) selected",1),p(i(H),{variant:"ghost",size:"sm",onClick:E},{default:w(()=>[p(i(Ut),{class:"h-4 w-4 mr-1"}),C[9]||(C[9]=M(" Clear ",-1))]),_:1,__:[9]})]),h("div",nl,[p(i(H),{variant:"outline",size:"sm",onClick:k},{default:w(()=>[p(i(yn),{class:"h-4 w-4 mr-1"}),C[10]||(C[10]=M(" Export Selected ",-1))]),_:1,__:[10]}),p(i(H),{variant:"destructive",size:"sm",onClick:x},{default:w(()=>[p(i(fn),{class:"h-4 w-4 mr-1"}),C[11]||(C[11]=M(" Delete Selected ",-1))]),_:1,__:[11]})])])):Y("",!0),h("div",ol,[h("div",ll,[p(i(H),{variant:"ghost",size:"icon",class:"h-8 w-8 hover:bg-muted/20",onClick:C[2]||(C[2]=V=>g(-1))},{default:w(()=>[p(i(jt),{class:"h-4 w-4"})]),_:1}),h("span",sl,L(u.value),1),p(i(H),{variant:"ghost",size:"icon",class:"h-8 w-8 hover:bg-muted/20",onClick:C[3]||(C[3]=V=>g(1))},{default:w(()=>[p(i(Kt),{class:"h-4 w-4"})]),_:1})]),h("div",rl,[p(i(H),{variant:"outline",size:"sm",class:Gt(["h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50",{"bg-secondary/50 text-foreground border-border":!1}])},{default:w(()=>C[12]||(C[12]=[M(" All ",-1)])),_:1,__:[12]}),p(i(H),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-medium border-primary/20 bg-primary/10 text-primary hover:bg-primary/20"},{default:w(()=>C[13]||(C[13]=[M(" This Month ",-1)])),_:1,__:[13]}),p(i(H),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50"},{default:w(()=>C[14]||(C[14]=[M(" Today ",-1)])),_:1,__:[14]}),p(i(H),{variant:"outline",size:"sm",class:"h-7 rounded-full text-xs font-normal border-border/40 bg-transparent hover:bg-secondary/50"},{default:w(()=>C[15]||(C[15]=[M(" Pick ",-1)])),_:1,__:[15]})]),h("div",il,[h("div",al,[h("span",ul,"Total ("+L(u.value)+")",1),h("span",dl,L(d.value.total),1),h("span",gl,L(d.value.count)+" transactions ",1)])]),h("div",cl,[C[17]||(C[17]=h("h3",{class:"text-sm font-semibold mb-2 px-1"},"Recent Expenses",-1)),h("div",fl,[i(D).getRowModel().rows?.length?Y("",!0):(I(),T("div",pl,C[16]||(C[16]=[h("div",{class:"w-12 h-12 mx-auto mb-4 rounded-full bg-muted/50 flex items-center justify-center"},[h("span",{class:"text-muted-foreground text-xl"},"ðŸ“")],-1),h("h3",{class:"text-sm font-medium text-foreground mb-1"},"No expenses yet",-1),h("p",{class:"text-xs text-muted-foreground"},"Add your first expense!",-1)]))),(I(!0),T(Q,null,ee(i(D).getRowModel().rows,V=>(I(),O(Xo,{key:V.id,expense:V.original,onEdit:C[4]||(C[4]=A=>R.document.dispatchEvent(new R.CustomEvent("editExpense",{detail:A}))),onDelete:C[5]||(C[5]=A=>R.document.dispatchEvent(new R.CustomEvent("deleteExpense",{detail:A})))},null,8,["expense"]))),128))])])]),h("div",ml,[p(i(un),null,{default:w(()=>[p(i(dn),null,{default:w(()=>[(I(!0),T(Q,null,ee(i(D).getHeaderGroups(),V=>(I(),O(i(_e),{key:V.id},{default:w(()=>[(I(!0),T(Q,null,ee(V.headers,A=>(I(),O(i(cn),{key:A.id},{default:w(()=>[A.isPlaceholder?Y("",!0):(I(),O(i(dt),{key:0,render:A.column.columnDef.header,props:A.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),p(i(gn),null,{default:w(()=>[i(D).getRowModel().rows?.length?(I(!0),T(Q,{key:0},ee(i(D).getRowModel().rows,V=>(I(),O(i(_e),{key:V.id,"data-state":V.getIsSelected()&&"selected",class:"hover:bg-muted/20 transition-colors duration-200"},{default:w(()=>[(I(!0),T(Q,null,ee(V.getVisibleCells(),A=>(I(),O(i(ie),{key:A.id},{default:w(()=>[p(i(dt),{render:A.column.columnDef.cell,props:A.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]))),128)):(I(),O(i(_e),{key:1},{default:w(()=>[p(i(ie),{colspan:R.columns.length,class:"h-24 text-center"},{default:w(()=>C[18]||(C[18]=[h("div",{class:"flex flex-col items-center justify-center py-12"},[h("div",{class:"w-12 h-12 mb-4 rounded-full bg-muted flex items-center justify-center"},[h("span",{class:"text-muted-foreground"},"ðŸ“")]),h("h3",{class:"text-sm font-medium text-foreground mb-1"},"No expenses yet"),h("p",{class:"text-sm text-muted-foreground"},"Add your first expense to get started!")],-1)])),_:1,__:[18]},8,["colspan"])]),_:1})),i(D).getRowModel().rows?.length?(I(),O(i(_e),{key:2,class:"border-t-2 border-primary/20 bg-muted/10 hover:bg-muted/20 font-semibold"},{default:w(()=>[p(i(ie),{class:"py-4"}),p(i(ie),{class:"py-4"},{default:w(()=>[h("div",vl,[C[19]||(C[19]=h("div",{class:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center mr-3"},[h("span",{class:"text-xs font-bold text-primary"},"Î£")],-1)),h("div",_l,"Total ("+L(d.value.count)+" expenses)",1)])]),_:1}),p(i(ie),{class:"py-4"},{default:w(()=>[h("div",wl,L(d.value.total),1)]),_:1}),p(i(ie),{class:"py-4"}),p(i(ie),{class:"py-4"})]),_:1})):Y("",!0)]),_:1})]),_:1})]),h("div",Sl,[h("div",hl,L(i(D).getFilteredSelectedRowModel().rows.length)+" of "+L(i(D).getFilteredRowModel().rows.length)+" row(s) selected. ",1),h("div",Cl,[p(i(H),{variant:"outline",size:"sm",disabled:!i(D).getCanPreviousPage(),onClick:C[6]||(C[6]=V=>i(D).previousPage())},{default:w(()=>C[20]||(C[20]=[M(" Previous ",-1)])),_:1,__:[20]},8,["disabled"]),p(i(H),{variant:"outline",size:"sm",disabled:!i(D).getCanNextPage(),onClick:C[7]||(C[7]=V=>i(D).nextPage())},{default:w(()=>C[21]||(C[21]=[M(" Next ",-1)])),_:1,__:[21]},8,["disabled"])])])]))}}),Rl=e=>new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),yl=e=>{const o=parseFloat(e);return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(o)},Fl=[{id:"select",header:({table:e})=>z(it,{modelValue:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:modelValue":o=>e.toggleAllPageRowsSelected(!!o),ariaLabel:"Select all"}),cell:({row:e})=>z(it,{modelValue:e.getIsSelected(),"onUpdate:modelValue":o=>e.toggleSelected(!!o),ariaLabel:"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"description",header:({column:e})=>z(H,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Description",z(Ae,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>z("div",{class:"flex items-center"},[z("div",{class:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-3"},z("span",{class:"text-xs font-medium text-primary"},"â‚¦")),z("div",{class:"font-medium"},e.getValue("description"))])},{accessorKey:"amount",header:({column:e})=>z(H,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Amount",z(Ae,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>{const o=e.getValue("amount");return z("div",{class:"font-semibold text-foreground"},yl(o))}},{accessorKey:"category",header:"Category",cell:({row:e})=>{const o=e.original.category;return o?z("div",{class:"flex items-center gap-2"},[z("div",{class:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),z("span",{class:"text-sm"},o.name)]):z("div",{class:"text-muted-foreground text-sm"},"Uncategorized")}},{accessorKey:"date",header:({column:e})=>z(H,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc")},()=>["Date",z(Ae,{class:"ml-2 h-4 w-4"})]),cell:({row:e})=>{const o=e.getValue("date");return z("div",{class:"text-muted-foreground"},Rl(o))}},{id:"actions",enableHiding:!1,cell:({row:e})=>{const o=e.original;return z("div",{class:"relative"},z(ht,{},{default:()=>[z(Ct,{asChild:!0},{default:()=>z(H,{variant:"ghost",class:"h-8 w-8 p-0"},{default:()=>[z("span",{class:"sr-only"},"Open menu"),z(Fn,{class:"h-4 w-4"})]})}),z(xt,{align:"end"},{default:()=>[z(rt,{onClick:()=>{const t=new CustomEvent("editExpense",{detail:o});document.dispatchEvent(t)},class:"cursor-pointer"},()=>"Edit"),z(rt,{onClick:()=>{const t=new CustomEvent("deleteExpense",{detail:o});document.dispatchEvent(t)},class:"cursor-pointer text-destructive focus:text-destructive"},()=>"Delete")]})]}))}}],$l={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},Vl={class:"flex items-center justify-between"},Il={class:"space-y-2"},Ml={class:"space-y-2"},Dl={class:"space-y-2"},Pl={class:"flex items-center gap-2"},El={class:"space-y-2"},Xl=W({__name:"Expense",props:{expenses:{},categories:{}},setup(e){const o=e,t=[{title:"Expenses",href:"/expense"}],n=Ye({description:"",amount:"",date:new Date().toISOString().split("T")[0],category_id:null}),l=N(de(ge()));n.date=l.value.toString(),xe(l,P=>{P&&(n.date=P.toString())});const s=N(!1),r=N(!1),a=N(!1),u=N(!1),g=N(null),f=N([]),{isOnline:v}=ye(),{initDB:c,initNetworkSync:d,createExpenseOffline:_,deleteExpenseOffline:m,bulkDeleteExpensesOffline:S,isInitialized:x,expenses:k}=wt(),E=X(()=>{const P=o.expenses||[],$=k.value||[];console.log("ðŸ” Debug expenses:",{serverCount:P.length,offlineCount:$.length});const G=$.filter(b=>!b.id||b.syncStatus==="pending"||b.syncStatus==="failed").map(b=>({id:null,localId:b.localId,description:b.description,amount:String(b.amount||"0"),date:b.date,user_id:b.user_id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),isOffline:!0})),me=new Set(P.map(b=>`${b.description}-${b.amount}-${b.date}`)),K=G.filter(b=>{const ke=`${b.description}-${b.amount}-${b.date}`;return!me.has(ke)});return[...P,...K].sort((b,ke)=>new Date(ke.date).getTime()-new Date(b.date).getTime())});vt(async()=>{try{console.log("ðŸš€ Initializing expense page..."),await c(),d(),console.log("âœ… Expense page storage ready!")}catch(P){console.error("Failed to initialize expense page:",P),B.error("Failed to initialize app")}document.addEventListener("editExpense",P=>{R(P.detail)}),document.addEventListener("deleteExpense",P=>{C(P.detail)})}),Lt(()=>{document.removeEventListener("editExpense",()=>{}),document.removeEventListener("deleteExpense",()=>{})});const D=async()=>{if(!x.value){B.error("App is still initializing, please wait...");return}try{if(console.log("ðŸ” Submit debug:",{isOnline:v.value,formData:n.data}),v.value)console.log("ðŸ“¡ Taking ONLINE path"),n.post(route("expense.store"),{onSuccess:()=>{n.reset(),s.value=!1,q.value="",l.value=de(ge()),B.success("Expense added successfully! ðŸŽ‰")},onError:()=>{B.error("Failed to add expense. Please check your inputs.")}});else{console.log("ðŸ“´ Taking OFFLINE path");const P=Ht().props.auth?.user;console.log("ðŸ” Debug offline form data:",{description:n.description,amount:n.amount,date:n.date,user_id:P?.id}),await _({description:n.description,amount:n.amount,date:n.date,category_id:n.category_id,user_id:P?.id||1}),n.reset(),s.value=!1,q.value="",l.value=de(ge()),B.success("Expense saved offline! ðŸ“´ Will sync when online.")}}catch(P){console.error("Failed to create expense:",P),B.error("Failed to save expense. Please try again.")}},R=P=>{g.value=P,r.value=!0},C=P=>{g.value=P,a.value=!0},V=P=>{f.value=P,u.value=!0},A=P=>{const G=[["Description","Amount","Date"].join(","),...P.map(b=>[`"${b.description}"`,b.amount,b.date].join(","))].join(`
`),me=new Blob([G],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),Z=URL.createObjectURL(me);K.setAttribute("href",Z),K.setAttribute("download",`expenses_${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K),B.success(`Exported ${P.length} expense(s) to CSV`)},q=N(""),ne=P=>{const $=P.target,K=$.value.replace(/[^\d.]/g,"").split("."),Z=K[0]+(K.length>1?"."+K.slice(1).join(""):"");if(n.amount=Z,Z&&!isNaN(parseFloat(Z))){const b=parseFloat(Z);q.value=new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(b)}else q.value=Z?"â‚¦"+Z:"";setTimeout(()=>{const b=q.value.length;$.setSelectionRange(b,b)},0)};return(P,$)=>(I(),T(Q,null,[p(i(Ot),{title:"Expenses"}),p(Yt,{breadcrumbs:t},{default:w(()=>[h("div",$l,[h("div",Vl,[$[11]||($[11]=h("h1",{class:"text-2xl font-bold"},"Expenses",-1)),p(i(H),{onClick:$[0]||($[0]=G=>s.value=!0),class:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm"},{default:w(()=>[p(i(Xt),{class:"w-4 h-4 mr-2"}),$[10]||($[10]=M(" Add Expense ",-1))]),_:1,__:[10]})]),p(i(De),{open:s.value,"onUpdate:open":$[6]||($[6]=G=>s.value=G)},{default:w(()=>[p(i(Fe),{class:"sm:max-w-[500px]"},{default:w(()=>[p(i($e),null,{default:w(()=>[p(i(Ve),null,{default:w(()=>$[12]||($[12]=[M("Add New Expense",-1)])),_:1,__:[12]}),p(i(Ie),null,{default:w(()=>$[13]||($[13]=[M(" Create a new expense record. Click save when you're done. ",-1)])),_:1,__:[13]})]),_:1}),h("form",{onSubmit:mt(D,["prevent"]),class:"space-y-4 py-4"},[h("div",Il,[p(i(oe),{for:"description"},{default:w(()=>$[14]||($[14]=[M("Description",-1)])),_:1,__:[14]}),p(i(fe),{id:"description",type:"text",modelValue:i(n).description,"onUpdate:modelValue":$[1]||($[1]=G=>i(n).description=G),placeholder:"Coffee, Lunch, Gas, etc.",required:""},null,8,["modelValue"]),p(le,{message:i(n).errors.description},null,8,["message"])]),h("div",Ml,[p(i(oe),{for:"amount"},{default:w(()=>$[15]||($[15]=[M("Amount",-1)])),_:1,__:[15]}),p(i(fe),{id:"amount",type:"text",modelValue:q.value,"onUpdate:modelValue":$[2]||($[2]=G=>q.value=G),onInput:ne,placeholder:"â‚¦0",required:""},null,8,["modelValue"]),p(le,{message:i(n).errors.amount},null,8,["message"])]),h("div",Dl,[p(i(oe),{for:"category"},{default:w(()=>$[16]||($[16]=[M("Category",-1)])),_:1,__:[16]}),p(i(Je),{modelValue:i(n).category_id,"onUpdate:modelValue":$[3]||($[3]=G=>i(n).category_id=G)},{default:w(()=>[p(i(Qe),null,{default:w(()=>[p(i(Ze),{placeholder:"Select category"})]),_:1}),p(i(et),null,{default:w(()=>[(I(!0),T(Q,null,ee(P.categories,G=>(I(),O(i(Re),{key:G.id,value:G.id.toString()},{default:w(()=>[h("div",Pl,[h("div",{class:"w-3 h-3 rounded-full",style:We({backgroundColor:G.color})},null,4),M(" "+L(G.name),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),p(le,{message:i(n).errors.category_id},null,8,["message"])]),h("div",El,[p(i(oe),null,{default:w(()=>$[17]||($[17]=[M("Date",-1)])),_:1,__:[17]}),p(i(St),{modelValue:l.value,"onUpdate:modelValue":$[4]||($[4]=G=>l.value=G),placeholder:"Select date"},null,8,["modelValue"]),p(le,{message:i(n).errors.date},null,8,["message"])]),p(i(Me),null,{default:w(()=>[p(i(H),{type:"button",variant:"outline",onClick:$[5]||($[5]=G=>s.value=!1)},{default:w(()=>$[18]||($[18]=[M(" Cancel ",-1)])),_:1,__:[18]}),p(i(H),{type:"submit",disabled:i(n).processing},{default:w(()=>[i(n).processing?(I(),O(i(Pe),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):Y("",!0),M(" "+L(i(n).processing?"Adding...":"Add Expense"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),p(i(Wt),null,{default:w(()=>[p(i(Qt),{class:"pb-3"},{default:w(()=>[p(i(Zt),{class:"text-lg"},{default:w(()=>$[19]||($[19]=[M("Recent Expenses",-1)])),_:1,__:[19]})]),_:1}),p(i(Jt),null,{default:w(()=>[p(xl,{columns:i(Fl),data:E.value,onBulkDelete:V,onBulkExport:A},null,8,["columns","data"])]),_:1})]),_:1})]),g.value?(I(),O(kn,{key:0,open:r.value,"onUpdate:open":$[7]||($[7]=G=>r.value=G),expense:g.value,categories:P.categories},null,8,["open","expense","categories"])):Y("",!0),g.value?(I(),O(zn,{key:1,open:a.value,"onUpdate:open":$[8]||($[8]=G=>a.value=G),expense:g.value,"delete-expense-offline":i(m)},null,8,["open","expense","delete-expense-offline"])):Y("",!0),p(Bn,{open:u.value,"onUpdate:open":$[9]||($[9]=G=>u.value=G),expenses:f.value,"is-initialized":i(x),"bulk-delete-expenses-offline":i(S)},null,8,["open","expenses","is-initialized","bulk-delete-expenses-offline"])]),_:1})],64))}});export{Xl as default};
